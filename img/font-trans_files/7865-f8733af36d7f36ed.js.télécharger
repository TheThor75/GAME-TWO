"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7865],{68093:function(e,n,t){var l=t(47568),a=t(10253),s=t(97582),o=t(85893),i=t(4519),r=t(67294),c=t(3732),d=t(33299),m=t(84856),u=t(61437),x=t(4298),f=t.n(x),h=t(60728);n.Z=function(e){var n=e.onClose,t=(0,a.Z)((0,u.Z)("layout.paywall"),2)[1],x=(0,r.useState)(null),p=x[0],v=x[1],g=(0,r.useState)(null),y=g[0],b=g[1],w=(0,r.useState)(!1),j=w[0],N=w[1],k=(0,i.Z)(),C=k.get,S=k.post,Z=(0,d.useSession)().data,A=(0,h.Z)(),E=(A.confirm,A.ConfirmDialog),I=function(){var e=(0,l.Z)((function(e){var n,t,l,a;return(0,s.__generator)(this,(function(s){return(null===Z||void 0===Z||null===(n=Z.user)||void 0===n||null===(t=n.plan)||void 0===t?void 0:t.priceId)&&"free"!==(null===Z||void 0===Z||null===(l=Z.user)||void 0===l||null===(a=l.plan)||void 0===a?void 0:a.priceId)?(fetch("https://api.goentri.com/token",{method:"POST",body:JSON.stringify({applicationId:y.applicationId,secret:y.secret})}).then((function(e){return e.json()})).then((function(n){var t,l,a={applicationId:y.applicationId,token:n.auth_token,supportForSubdomains:!0,whiteLabel:{removeShareLogin:!0},dnsRecords:{domain:[{value:"0675f06bfbca2680fb3ba12caa20038b",host:"durable",ttl:300,type:"TXT",fallbackValue:"",priority:null},{value:(0,c.lz)({subdomain:"websites",durableDomain:y.durableDomain}),host:"www",ttl:3600,type:"CNAME",fallbackValue:"",priority:null},{value:"172.66.0.42",host:"@",ttl:3600,type:"A",fallbackValue:"",priority:null}],subDomain:[{value:"0675f06bfbca2680fb3ba12caa20038b",host:"durable",ttl:300,type:"TXT",fallbackValue:"",priority:null},{value:(0,c.lz)({subdomain:"websites",durableDomain:y.durableDomain}),host:"{SUBDOMAIN}.{DOMAIN}",ttl:3600,type:"CNAME",fallbackValue:"",priority:null}]}};(null===e||void 0===e||null===(t=e.detail)||void 0===t?void 0:t.prefilledDomain)&&(a.prefilledDomain=null===e||void 0===e||null===(l=e.detail)||void 0===l?void 0:l.prefilledDomain);v(a)})).catch((function(e){console.error("Error:",e)})),[2]):(N(!0),[2])}))}));return function(n){return e.apply(this,arguments)}}(),D=function(e){var t,l,a=(null===e||void 0===e||null===(t=e.detail)||void 0===t?void 0:t.success)&&"sharedLogin"!==(null===e||void 0===e||null===(l=e.detail)||void 0===l?void 0:l.setupType)?"processing":"incomplete";S("/website/update-external-domain-connection",{status:a}).catch((function(){})).finally((function(){window.dispatchEvent(new CustomEvent("external-domain-refresh-list")),"processing"===a&&window.dispatchEvent(new CustomEvent("entri-finished-setup")),"function"===typeof n&&n()}))};return(0,r.useEffect)((function(){p&&window.entri.showEntri(p)}),[p]),(0,r.useEffect)((function(){return y&&window.addEventListener("onEntriOpen",I),function(){window.removeEventListener("onEntriOpen",I)}}),[y,Z]),(0,r.useEffect)((function(){return C("/entri/entri-settings",{}).then((function(e){e&&!0===(null===e||void 0===e?void 0:e.status)&&(null===e||void 0===e?void 0:e.content)&&b({applicationId:"durable",secret:"ae55104661dcad6e3a5c522856bb766ab751262400c9d3eba83317700bc67de7",serverIp:e.content.serverIp,durableDomain:e.content.durableDomain})})),window.addEventListener("onEntriClose",D,{once:!0}),function(){window.removeEventListener("onEntriClose",D,{once:!0})}}),[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(m.Z,{visible:j,onAction:function(){N(!1),t("external_domain")},onClose:function(){N(!1)}}),(0,o.jsx)(f(),{src:"https://cdn.goentri.com/entri.js"}),(0,o.jsx)(E,{confirmText:"Yes",cancelText:"No"})]})}},20523:function(e,n,t){var l=t(85893),a=t(26713),s=t(3732),o="inline",i="list";n.Z=function(e){var n=e.onGetAssistant,t=e.style,r=void 0===t?i:t,c=(0,s.ac)("(max-width: 859px)");return(0,l.jsxs)(l.Fragment,{children:[(r===i||c)&&(0,l.jsxs)("div",{className:"bg-gray-50 md:rounded-md text-indigo-600 font-medium text-ceramic-small border-t-1 border-b-1 border-gray-200 md:border-none select-none",children:[(0,l.jsxs)("div",{onClick:n,className:"flex flex-row flex-nowrap justify-between items-center w-full px-4 py-3.5 cursor-pointer",children:[(0,l.jsx)("span",{children:"Get help from a person"}),(0,l.jsx)(a.Z,{icon:"ChevronRightIcon",className:"text-indigo-600 w-5 h-5"})]}),(0,l.jsx)("div",{className:"block w-full px-4",children:(0,l.jsx)("span",{className:"border-t-1 border-gray-200 block w-full"})})]}),r===o&&!c&&(0,l.jsxs)("div",{className:"flex flex-row gap-8 flex-nowrap justify-start bg-gray-50 text-indigo-600 font-medium text-ceramic-small py-8 px-20 border-t-1 border-b-1 border-gray-200",children:[(0,l.jsx)("div",{onClick:n,className:"cursor-pointer",children:(0,l.jsx)("span",{children:"Get help from a person"})}),(0,l.jsxs)("a",{href:"https://help.durable.co/en/collections/6398669-domain",target:"_blank",className:"flex flex-row flex-nowrap justify-start items-center cursor-pointer",children:[(0,l.jsx)("span",{className:"mr-1",children:"Learn more about domains"}),(0,l.jsx)(a.Z,{icon:"ArrowTopRightOnSquareIcon",className:"text-indigo-600 w-5 h-5"})]})]})]})}},26125:function(e,n,t){t.d(n,{Z:function(){return _}});var l=t(85893),a=t(67294),s=t(2740),o=t(38947),i=t(3732),r=t(4519),c=t(11355),d=function(e){var n=e.children;return(0,l.jsx)(c.u,{as:a.Fragment,show:!0,appear:!0,enter:"transition-all duration-600",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"",leaveFrom:"",leaveTo:"",children:(0,l.jsx)("div",{children:n})})},m=t(10253),u=t(51121),x=t(54126),f=t(26713),h=function(e){var n=e.title,t=e.description,a=e.onAction,s=e.recommended,o=void 0!==s&&s;return(0,l.jsx)("div",{onClick:function(){"function"===typeof a&&a()},className:"block w-full rounded-md border-gray-300 border-1 px-6 py-4 cursor-pointer hover:bg-gray-50 hover:bg-opacity-50 shadow-sm select-none",children:(0,l.jsxs)("div",{className:"w-fulll flex flex-row flex-nowrap justify-between items-center",children:[(0,l.jsxs)("div",{className:"flex flex-row flex-wrap justify-start items-start",children:[(0,l.jsxs)("span",{className:"flex flex-row flex-nowrap justify-start items-center w-full font-semibold text-ceramic-small text-gray-900 mb-2",children:[(0,l.jsx)("span",{children:n}),!!o&&(0,l.jsx)("span",{className:"ml-1 bg-indigo-100 rounded-full px-2.5 py-0.5 text-body-sm text-center font-medium text-indigo-800",children:"Recommended"})]}),(0,l.jsx)("span",{className:"w-full text-ceramic-small text-gray-500",children:t})]}),(0,l.jsx)("div",{className:"flex items-center ml-3 w-6 h-6",children:(0,l.jsx)(f.Z,{icon:"ChevronRightIcon",className:"text-gray-500 h-6"})})]})})},p=t(30120),v=t(16494),g=t(11163),y=t(52077),b=t(61437),w=t(33299),j=t(43714),N=t(3689),k=(t(40735),"input"),C="searching",S="done",Z="none",A="no-exists",E="in-durable",I="registrar",D=function(e){var n=e.registrarName,t=e.registrarUrl,s=e.domainName,o=e.onDomainSet,c=e.onConfirmDomain,d=e.onRegistrarSet,D=e.onRegistrarUrlSet,F=e.onDisplaySupport,T=e.onDisplayBooking,R=e.onClose,M=e.onEntriStart,U=e.onManualSetup,L=e.noModal,P=e.resumeDomain,O=void 0!==P&&P,B=e.fromBuilder,K=void 0!==B&&B,_=(0,g.useRouter)(),z=(0,r.Z)(),V=z.get,q=z.post,W=(0,j.Z)().track,G=(0,w.useSession)().data,X=(0,m.Z)((0,b.Z)("websiteBuilder.paywall"),2)[1],Y=(0,a.useState)(!1),J=Y[0],Q=Y[1],H=(0,a.useState)(Z),$=H[0],ee=H[1],ne=(0,a.useState)(!0===O?S:k),te=ne[0],le=ne[1],ae=(0,a.useState)(!1),se=ae[0],oe=ae[1],ie=(0,a.useState)(!1),re=ie[0],ce=ie[1],de=(0,a.useState)("This domain hasn't been registered"),me=de[0],ue=de[1],xe=((0,m.Z)((0,b.Z)("support.modal",!1),2)[1],function(){var e=s.replace("https://","");return e=e.replace("http://",""),N.ZP.toASCII(e).toLowerCase()}),fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"This domain hasn't been registered",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n?(le(S),ee(I)):(le(k),ue(e),ee(A),F(!0)),oe(!1)},he=function(e){d(e),le(S),c(xe()),F(!1),ee(I)},pe=function(){var e,n,t,l,a;if(W("app:existing-domain-next",{domain:s,plan:null===G||void 0===G||null===(e=G.user)||void 0===e||null===(n=e.plan)||void 0===n?void 0:n.name}),null===G||void 0===G||null===(t=G.user)||void 0===t||null===(l=t.plan)||void 0===l||null===(a=l.features)||void 0===a?void 0:a.includes("external_domain"))if(ee(Z),oe(!1),F(!1),"input"===te||!0===O){le(C);var i=xe();ce(!0),V("/entri/domain-provider",{domain:i}).then((function(e){var n,t;if(!0===(null===e||void 0===e?void 0:e.status))if(!0===(null===e||void 0===e||null===(n=e.content)||void 0===n?void 0:n.isCustomDomain))fe("This domain is already in use."),ee(E),le(S);else if(null===e||void 0===e||null===(t=e.content)||void 0===t?void 0:t.inUse)fe("This domain is already being in use by another website");else{var l,a,s,o=null===e||void 0===e||null===(l=e.content)||void 0===l?void 0:l.provider;if(o)if("unknown"===o.toLowerCase())he("Unknown"),oe(!1),D(!1);else he(o),oe(!0===(null===e||void 0===e||null===(a=e.content)||void 0===a?void 0:a.entriSupport)),D(null===e||void 0===e||null===(s=e.content)||void 0===s?void 0:s.url);else console.log("fail 1"),fe("",!0)}else console.log("fail 2"),fe("",!0)})).catch((function(){console.log("fail 3"),fe()})).finally((function(){return ce(!1)}))}else le(k),ce(!1),o(""),Q(!1);else X("external_domain")},ve=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;ce(!1),e&&R(),i.Z9.error(n||"Something went wrong",{autoClose:2e3})},ge=function(e,t){return ce(!0),q("/website/start-external-domain-connection",{domainName:N.ZP.toUnicode(s),registrar:n||"Unknown",method:e}).then((function(e){var n;e&&!0===(null===e||void 0===e?void 0:e.status)?t():ve(!0,null===e||void 0===e||null===(n=e.content)||void 0===n?void 0:n.error)})).catch((function(){return ve()}))};return(0,a.useEffect)((function(){Q(s&&s.length>5&&s.indexOf(".")>=3)}),[s]),(0,a.useEffect)((function(){!0===O&&pe()}),[O]),(0,l.jsxs)("div",{className:(0,i.AK)(L?"px-3.5 md:px-6":"p-4 md:p-6 pb-0",te===k?"min-h-140":""),children:[!O&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"block w-full mb-6",children:[!K&&(0,l.jsxs)("p",{children:["Enter the domain name ","you'd"," like to use."]}),!!K&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{className:"text-gray-900 font-ceramic-small font-semibold mb-2",children:"Use a domain you already own"}),(0,l.jsxs)("p",{className:"text-gray-500 text-label font-medium",children:["Enter the domain name ","you'd"," like to use."]})]})]}),(0,l.jsx)("div",{className:"relative",children:(0,l.jsxs)("div",{className:"w-full pb-1 flex flex-row flex-nowrap justify-start items-center",children:[(0,l.jsx)("div",{className:"w-full",children:(0,l.jsx)(u.Z,{type:"text",name:"domain",inputClassName:"input",icon:function(){var e=null;switch(te){case"input":case"searching":default:e=null;break;case"done":e="XCircleSolidIcon"}return e?(0,l.jsx)(f.Z,{onClick:pe,icon:e,className:"cursor-pointer h-6 w-6 ".concat("done"===te?"text-gray-500":"text-indigo-600"," ").concat(J?"":"hidden")}):null}(),iconClassName:"!left-[unset] !right-3",placeholder:"example.com",value:s,onChange:function(e){var n=e;(null===n||void 0===n?void 0:n.length)>4&&(n=e.replace("www.","")),function(e){o(e)}(null===n||void 0===n?void 0:n.toLowerCase()),ee(Z)},disabled:re,onKeyUp:function(e){return re?(e.preventDefault(),!1):("Enter"===e.key&&J&&pe(),"input"!==te&&le("input"),!0)}})}),te!==S&&(0,l.jsx)("div",{className:"ml-3",children:(0,l.jsxs)(y.Z,{className:"light",onClick:pe,disabled:re||te===C,children:[te===C&&(0,l.jsx)(x.Z,{}),te===k&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"mr-0.5",children:"Next"}),(0,l.jsx)(f.Z,{icon:"ArrowNarrowRightIcon",className:"text-gray-900 h-5 w-5"})]})]})})]})}),"searching"===te&&(0,l.jsx)("div",{className:"p-3 bg-gray-50",children:(0,l.jsx)("span",{className:"text-gray-500 text-ceramic-small font-normal",children:"Looking up domain..."})}),"done"===te&&(0,l.jsx)(l.Fragment,{children:$===E&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"block w-full bg-gray-50 p-3 pt-5 rounded-md -mt-2 mb-6",children:(0,l.jsx)("span",{className:"block w-full text-ceramic-small text-gray-900 font-semibold mb-2",children:"You already have this domain. Click below to manage it."})}),(0,l.jsx)("div",{onClick:function(){_.push("/website/domain/".concat(s)).catch((function(){}))},className:"block w-full rounded-md border-gray-300 border-1 px-6 py-4 cursor-pointer hover:bg-gray-50 hover:bg-opacity-50",children:(0,l.jsxs)("div",{className:"flex flex-row flex-wrap justify-between items-center",children:[(0,l.jsx)("div",{className:"flex flex-row flex-wrap justify-start items-start",children:(0,l.jsx)("span",{className:"w-full font-semibold text-ceramic-small text-gray-900 mb-1",children:N.ZP.toUnicode(s)})}),(0,l.jsx)("div",{className:"flex flex-row flex-nowrap justify-center items-center",children:(0,l.jsx)("span",{className:"flex items-center ml-3 w-5 h-5",children:(0,l.jsx)(f.Z,{icon:"ChevronRightIcon",className:"text-gray-500 h-4"})})})]})})]})}),$===I&&!!t&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"block w-full bg-gray-50 p-3 pt-5 rounded-md -mt-2",children:(0,l.jsxs)("span",{className:"block w-full text-ceramic-small text-gray-900 font-normal",children:["Registered with ",n]})})})]}),!re&&!0===O&&(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"mb-6 block w-full",children:[(0,l.jsx)("span",{className:"block text-label text-gray-900 font-semibold mb-2",children:N.ZP.toUnicode(s)}),!!t&&(0,l.jsxs)("span",{className:"block text-label text-gray-500 font-normal",children:["Registered with ",n," on ",p.ou.now().toFormat("MMM d, y")]})]})}),$===A&&(0,l.jsxs)("div",{className:"flex flex-row justify-start items-center w-full bg-red-50 p-3 rounded-md mt-1",children:[(0,l.jsx)(f.Z,{icon:"ExclamationIcon",className:"text-red-800 w-5 h-5 mr-3"}),(0,l.jsx)("span",{className:"text-ceramic-small text-red-800 font-normal",children:me})]}),re&&(0,l.jsx)(v.Z,{variant:"box"}),"done"===te&&(0,l.jsx)(l.Fragment,{children:!re&&$===I&&(0,l.jsxs)(l.Fragment,{children:[se&&(0,l.jsx)("div",{className:"block w-full my-4",children:(0,l.jsx)(h,{recommended:!0,title:"Quick connection",description:(0,l.jsxs)("span",{children:["Use a service called ",(0,l.jsx)("strong",{children:"Entri"})," to easily and securely connect your domain."]}),onAction:function(){ce(!0),q("/website/update-external-domain-connection",{status:"processing"}).catch((function(){})),ge("entri",(function(){K?M():R(),window.dispatchEvent(new CustomEvent("onEntriOpen",{detail:{prefilledDomain:N.ZP.toUnicode(s)}}))})).catch((function(){}))}})}),(0,l.jsx)("div",{className:"block w-full my-4",children:(0,l.jsx)(h,{title:"Get help from a person",description:"Book a call or connect with live chat to connect your domain.",onAction:function(){T(!0)}})}),(0,l.jsx)("div",{className:"block w-full my-4",children:(0,l.jsx)(h,{title:"Configure manually",description:"For advanced users. Manually configure DNS settings in ".concat("Unknown"!==n?n:"your provider","."),onAction:function(){ge("manual",(function(){U()})).catch((function(){}))}})})]})})]})},F=t(98897),T=t(20523),R=function(e){var n=e.domainName,t=e.registrarName,a=e.displayLinks,s=e.displayBooking,o=e.onDisplayBooking,i=e.entryPoint;return(0,l.jsxs)(l.Fragment,{children:[a&&(0,l.jsx)(T.Z,{onGetAssistant:function(){o(!0)}}),(0,l.jsx)(F.Z,{open:s,setOpen:o,domainName:n,registrarName:t,entryPoint:i})]})},M=function(e){var n=e.domainName,t=e.onClose,a=e.noModal,s='url("'.concat((0,i.sd)("domain/bg-connection-in-progress.svg"),'")');return(0,l.jsxs)("div",{className:(0,i.AK)(a&&"absolute inset-0 bg-white rounded-md"),children:[(0,l.jsxs)("div",{className:"relative flex flex-row justify-center items-center w-full h-[133px] bg-no-repeat bg-cover rounded-t-md",style:{backgroundImage:s},children:[(0,l.jsx)("div",{className:"flex flex-row justify-center items-center w-20 h-20 bg-white rounded-full shadow-around-md",children:(0,l.jsx)(f.Z,{icon:"CheckIcon",className:"w-9 h-10 text-gray-900"})}),(0,l.jsx)("span",{className:"absolute bottom-0 left-0 right-0 block w-full bg-gradient-to-b from-transparent to-white h-5"})]}),(0,l.jsxs)("div",{className:"flex flex-row flex-wrap justify-center items-start w-full p-4 md:px-20 md:py-8",children:[(0,l.jsx)("p",{className:"w-full text-center text-gray-900 font-semibold text-h4 mb-3",children:"Connection in progress"}),(0,l.jsxs)("p",{className:"w-full text-center text-gray-900 font-normal text-ceramic-medium mb-5",children:[N.ZP.toUnicode(n)," is being connected to Durable."]}),(0,l.jsxs)("div",{className:"flex flex-row justify-start items-start w-full bg-yellow-50 p-4 rounded-md",children:[(0,l.jsx)("div",{className:"mr-3",children:(0,l.jsx)(f.Z,{icon:"BellIcon",className:"w-5 h-5 text-yellow-600"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"block w-full text-ceramic-small font-medium text-yellow-800 mb-2",children:"Domain setup may take up to 48 hours."}),(0,l.jsxs)("span",{className:"block w-full text-ceramic-small font-normal text-yellow-800",children:["We'll"," send you an email when your domain is ready."]})]})]})]}),(0,l.jsx)("div",{className:"flex flex-row justify-center items-center w-full p-6",children:(0,l.jsx)(y.Z,{className:"light",onClick:function(){"function"===typeof t&&t()},children:"Close"})})]})},U=function(e){var n=e.step,t=e.total,a=e.children;return(0,l.jsxs)("div",{className:"flex flex-row flex-wrap justify-start items-start py-5",children:[(0,l.jsxs)("span",{className:"w-full text-body text-gray-900 text-left mb-3 font-bold",children:["Step ",n," of ",t]}),(0,l.jsx)("div",{className:"w-full",children:a})]})},L=t(49480),P=t(74423).getPublicSuffix,O=function(e){var n=e,t=P(n),l=n.replace(".".concat(t),"").split("."),a=l.length>1;return{base:n,tld:t,isSubdomain:a,subdomain:a?l[0]:"www"}},B=function(e){var n=e.domainName,t=e.registrarName,a=e.registrarUrl,s=e.requiredRecords,o=e.toDeleteDnsRecords,i=e.dnsRecords,r=e.acceptableIps,c=e.onStepChange,d=e.onConnectDomain,m=e.onRequestSupport,u=e.isLoading,x=function(e){return"A"===(null===e||void 0===e?void 0:e.type)&&"@"===(null===e||void 0===e?void 0:e.name)&&(n=null===e||void 0===e?void 0:e.data,!!r.find((function(e){return e.ip===n})));var n};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"pt-1.5 px-4 md:px-8 pb-10",children:[(0,l.jsx)(U,{step:1,total:5,children:(0,l.jsxs)("div",{className:"flex flex-row flex-wrap justify-start items-center text-ceramic-medium text-gray-900 font-normal",children:[(0,l.jsx)("span",{children:"In a new browser tab, sign into "}),!!a&&(0,l.jsxs)("a",{href:a,target:"_blank",className:"flex flex-row flex-nowrap justify-start items-center text-indigo-600 font-semibold ml-1",children:[(0,l.jsx)("span",{children:t}),(0,l.jsx)("span",{className:"ml-1",children:(0,l.jsx)(f.Z,{icon:"ArrowTopRightOnSquareIcon",className:"w-6 h-6 text-indigo-600"})})]}),!a&&(0,l.jsx)("span",{className:"ml-1",children:"your domain provider."})]})}),(0,l.jsx)(U,{step:2,total:5,children:(0,l.jsxs)("div",{className:"text-ceramic-medium text-gray-900 font-normal",children:[(0,l.jsxs)("span",{className:"block w-full font-semibold mb-3",children:["Find the DNS settings for ",N.ZP.toUnicode(n)]}),(0,l.jsxs)("span",{className:"block w-full",children:["This may be called ",'"DNS Management"',", ",'"Advanced settings"',", or similar."]})]})}),(0,l.jsxs)(U,{step:3,total:5,children:[(0,l.jsx)("div",{className:"block w-full mb-5",children:(0,l.jsx)("span",{className:"text-ceramic-medium text-gray-900 font-semibold",children:"Delete the following DNS records"})}),(0,l.jsx)("div",{className:"block w-full mb-6",children:(0,l.jsx)(L.Z,{tableID:"table-dns-delete-records",dnsRecords:o,colClassName:"text-red-900 bg-red-50",isLoading:u,emptyRowsMessage:"There's no records required to be deleted."})})]}),!u&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(U,{step:4,total:5,children:[(0,l.jsx)("div",{className:"text-label text-gray-900 mb-5",children:(0,l.jsx)("p",{className:"block w-full mb-5 text-ceramic-medium text-gray-900 font-semibold",children:"Add the following DNS records"})}),(0,l.jsxs)("div",{className:"flex flex-row justify-start items-start w-full bg-gray-50 p-4 mb-5",children:[(0,l.jsx)("div",{className:"mr-3",children:(0,l.jsx)(f.Z,{icon:"InformationCircleSolidIcon",className:"w-5 h-5 text-gray-500"})}),(0,l.jsxs)("span",{className:"text-ceramic-small font-medium text-gray-900",children:['"Name" might be called "host", "hostname", or "alias"'," in"," ","Unknown"!==t?t:"your provider",". If you ","can't"," enter @, leave it blank or enter ",(0,l.jsx)("strong",{children:N.ZP.toUnicode(n)}),"."]})]}),(0,l.jsx)(L.Z,{tableID:"table-dns-add-records",dnsRecords:function(){var e=[],t=O(n);if(!0===(null===t||void 0===t?void 0:t.isSubdomain))e=[{type:"CNAME",name:t.subdomain,data:null===s||void 0===s?void 0:s.CNAME}];else{var l=!0,a=!0,o=!1,r=void 0;try{for(var c,d=i[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var m=c.value;"A"===(null===m||void 0===m?void 0:m.type)&&x(m)&&(l=!1)}}catch(u){o=!0,r=u}finally{try{a||null==d.return||d.return()}finally{if(o)throw r}}l&&e.push({type:"A",name:"@",data:null===s||void 0===s?void 0:s.A}),e.push({type:"CNAME",name:"www",data:null===s||void 0===s?void 0:s.CNAME})}return e}(),colClassName:"text-indigo-600 bg-blue-50",copyCol:!0,isLoading:u})]}),(0,l.jsx)(U,{step:5,total:5,children:(0,l.jsxs)("div",{className:"block w-full mb-5",children:[(0,l.jsxs)("span",{className:"block w-full mb-3 text-ceramic-medium text-gray-900 font-semibold",children:["Save your changes in ","Unknown"!==t?t:"your provider"]}),(0,l.jsxs)("span",{className:"block w-full mb-5 text-ceramic-medium text-gray-900 font-normal",children:["Then return here and press ",(0,l.jsx)("strong",{children:"Connect"})," below."]})]})})]})]}),(0,l.jsx)("div",{className:"h-40 w-full block bg-white"}),(0,l.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 rounded-b-md",children:[(0,l.jsx)("div",{className:"h-[32px] bg-gradient-to-b from-transparent to-[#00000016]"}),(0,l.jsxs)("div",{className:"bg-white",children:[(0,l.jsx)("div",{className:"block w-full",children:(0,l.jsx)(T.Z,{style:"inline",onGetAssistant:m})}),(0,l.jsxs)("div",{className:"flex flex-row flex-nowrap justify-end items-center gap-3 w-full py-5 px-6",children:[(0,l.jsx)(y.Z,{className:"light",onClick:function(){c("select-domain")},children:"Cancel"}),(0,l.jsx)(y.Z,{className:"primary",onClick:d,children:"Connect"})]})]})]})]})},K=[{key:"select-domain",title:"Use a domain I own"},{key:"configure-manually",title:"Connect domain manually"},{key:"connection-progress",title:null}],_=function(e){var n=e.open,t=e.setOpen,c=e.resumeDomain,m=e.refreshWebsite,u=e.fromBuilder,x=void 0!==u&&u,f=e.afterComplete,h=void 0===f?null:f,p=e.onStepChange,v=e.onBack,g=e.onClose,y=(0,a.useRef)(!1),b=(0,r.Z)(),w=b.get,j=b.post,k=(0,a.useState)(K),C=k[0],S=k[1],Z=(0,a.useState)(0),A=Z[0],E=Z[1],I=(0,a.useState)(c||""),F=I[0],T=I[1],U=(0,a.useState)(""),L=U[0],P=U[1],_=(0,a.useState)(""),z=_[0],V=_[1],q=(0,a.useState)(!1),W=q[0],G=q[1],X=(0,a.useState)([]),Y=X[0],J=X[1],Q=(0,a.useState)([]),H=Q[0],$=Q[1],ee=(0,a.useState)([]),ne=ee[0],te=ee[1],le=(0,a.useState)([]),ae=le[0],se=le[1],oe=(0,a.useState)(!1),ie=oe[0],re=oe[1],ce=(0,a.useState)(!1),de=ce[0],me=ce[1],ue=(0,a.useState)("md:w-140"),xe=ue[0],fe=ue[1],he=function(){return C[A]},pe=function(e){var n;return(null===(n=he())||void 0===n?void 0:n.key)===e},ve=function(e){var n=C.findIndex((function(n){return n.key===e}));n>=0&&E(n)},ge=function(e){var n=e.replace("https://","");return n=n.replace("http://",""),N.ZP.toASCII(n).toLowerCase()},ye=function(){t(!1),m()},be=function(e){var n=[],t=ge(F),l=t.split(".").length>=3?t.split(".")[0]:"@";for(var a in e){var s=e[a],o=!0,i=!1,r=void 0;try{for(var c,d=s[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){var m=c.value;if(Array.isArray(m))n.push({type:a,name:l,data:m.join(" ")});else if("object"===typeof m){var u="";for(var x in m)u+="".concat(x,"=").concat(m[x],"; ");n.push({type:a,name:l,data:u})}else n.push({type:a,name:l,data:m})}}catch(f){i=!0,r=f}finally{try{o||null==d.return||d.return()}finally{if(i)throw r}}}return n},we=function(e){return!!H.find((function(n){return n.ip===e}))},je=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"@";return"A"===(null===e||void 0===e?void 0:e.type)&&(null===e||void 0===e?void 0:e.name)===n&&we(null===e||void 0===e?void 0:e.data)},Ne=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"www";return"CNAME"===(null===e||void 0===e?void 0:e.type)&&(null===e||void 0===e?void 0:e.name)===n&&(null===e||void 0===e?void 0:e.data)===(null===Y||void 0===Y?void 0:Y.CNAME)},ke=function(e){var n=[],t=ge(F),l=O(t),a=!0,s=!1,o=void 0;try{for(var i,r=e[Symbol.iterator]();!(a=(i=r.next()).done);a=!0){var c=i.value;if(!0===(null===l||void 0===l?void 0:l.isSubdomain)){var d=(null===l||void 0===l?void 0:l.subdomain)||"www";"A"!==(null===c||void 0===c?void 0:c.type)||je(c,d)||n.push(c),"CNAME"!==(null===c||void 0===c?void 0:c.type)||Ne(c,d)||n.push(c)}else("A"===(null===c||void 0===c?void 0:c.type)&&!je(c)||"CNAME"===(null===c||void 0===c?void 0:c.type)&&!Ne(c))&&n.push(c)}}catch(m){s=!0,o=m}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}se(n)},Ce=function(e){e?t(e):(ye(),x&&"function"===typeof v&&v())};return(0,a.useEffect)((function(){var e=document.querySelector("#modal-domain-link-steps");e&&e.scrollTo(0,0),pe("configure-manually")||pe("connection-progress")?fe("md:w-180"):fe("md:w-140")}),[A]),(0,a.useEffect)((function(){c&&T(c)}),[c]),(0,a.useEffect)((function(){var e;"function"===typeof p&&p(null===(e=he())||void 0===e?void 0:e.key)}),[A]),(0,a.useEffect)((function(){return y.current=!0,w("/domain-lookup/required-records",{}).then((function(e){var n,l;e&&!0===(null===e||void 0===e?void 0:e.status)?(J(null===e||void 0===e||null===(n=e.content)||void 0===n?void 0:n.records),$(null===e||void 0===e||null===(l=e.content)||void 0===l?void 0:l.acceptableIps)):(i.Z9.error("Temporary unavailable"),t(!1))})).catch((function(){i.Z9.error("Temporary unavailable"),t(!1)})),function(){y.current=!1}}),[]),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.h,{children:(0,l.jsx)(o.Z,{open:n,setOpen:Ce,modalTitle:function(){var e;return c?"Resume domain connection":x?"Get a domain and publish":null===(e=C[A])||void 0===e?void 0:e.title}(),contentClassNames:xe,mobileExpanded:!1,scrollAlwaysVisible:pe("configure-manually"),children:(0,l.jsxs)("div",{id:"modal-domain-link-steps",children:[pe("select-domain")&&(0,l.jsx)(d,{children:(0,l.jsx)(D,{registrarName:L,registrarUrl:z,domainName:F||"",onDomainSet:function(e){return T(e)},onConfirmDomain:function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;re(!0),S(K),w("/domain-lookup/read",{domainName:e||ge(F)}).then((function(e){if(e&&!0===e.status){var n=be(e.content);te(n),ke(n)}})).finally((function(){re(!1)}))}()},onRegistrarSet:function(e){return P(e)},onRegistrarUrlSet:function(e){return V(e)},onDisplaySupport:function(e){return G(e)},onDisplayBooking:me,onClose:function(){return Ce(!1)},onEntriStart:g,onManualSetup:function(){return ve("configure-manually")},resumeDomain:!!c||!1,fromBuilder:x})}),pe("configure-manually")&&(0,l.jsx)(d,{children:(0,l.jsx)(B,{domainName:ge(F),registrarName:L,registrarUrl:z,toDeleteDnsRecords:ae,dnsRecords:ne,acceptableIps:H,requiredRecords:Y,isLoading:ie,onStepChange:ve,onConnectDomain:function(){re(!0),j("/website/update-external-domain-connection",{status:"processing"}).then((function(){ve("connection-progress")})).finally((function(){re(!1)}))},onRequestSupport:function(){return me(!0)}})}),pe("connection-progress")&&(0,l.jsx)(d,{children:(0,l.jsx)(M,{domainName:ge(F),onClose:function(){ye(),"function"===typeof h&&h(),setTimeout((function(){y.current&&(E(0),T(""),P(""),V(""),te([]),se([]),re(!1))}),1e3)}})}),!pe("connection-progress")&&(0,l.jsx)("div",{className:(0,i.AK)(W&&"block w-full p-8",W&&!x&&"absolute bottom-0 left-0"),children:(0,l.jsx)(R,{registrarName:L,domainName:ge(F),displayLinks:W,displayBooking:de,onDisplayBooking:me,entryPoint:"domain-assistance"})})]})})})})}},38947:function(e,n,t){var l=t(85893),a=t(11355),s=t(37882),o=t(67294),i=t(3732),r=t(26713);n.Z=function(e){var n=e.children,t=e.open,c=e.setOpen,d=e.onClose,m=e.fullMode,u=e.modalClassNames,x=e.contentClassNames,f=e.modalTitle,h=e.hideCloseX,p=e.mobileExpanded,v=e.scrollAlwaysVisible,g=function(){"function"===typeof d?d():c(!1)};return(0,l.jsx)(a.u,{show:t,as:o.Fragment,children:(0,l.jsxs)(s.V,{as:"div",className:"relative z-100",onClose:g,children:[(0,l.jsx)(a.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,l.jsx)(s.V.Overlay,{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity"})}),(0,l.jsx)(a.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",enterTo:"opacity-100 translate-y-0 md:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 md:scale-100",leaveTo:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",children:(0,l.jsx)("div",{className:(0,i.AK)(p&&!m?"min-h-[90vh]":"min-h-[0]","fixed bottom-0 left-0 bg-white w-full","md:bottom-[unset] shadow-lg ",!m&&"rounded-t-md md:left-1/2 md:top-1/2 md:-translate-y-1/2 md:-translate-x-1/2",!m&&"md:w-auto md:min-w-140 md:max-h-[80vh] md:min-h-[auto] md:rounded-md",m&&"md:w-full h-[100vh] inset-0 rounded-none",u),children:(0,l.jsxs)("div",{className:(0,i.AK)(x),children:[!!f&&(0,l.jsxs)("div",{className:"sticky top-0 z-20 block w-full bg-white border-b border-gray-200 py-5 px-4 md:px-8 md:py-7 rounded-t-md",children:[(0,l.jsx)("h3",{className:"text-gray-900 font-semibold text-body",children:f}),!h&&(0,l.jsx)("div",{className:"absolute top-2.5 right-2 md:top-5 md:right-6 z-20",children:(0,l.jsx)("div",{className:"flex flex-row justify-center items-center w-10 h-10 cursor-pointer",onClick:g,children:(0,l.jsx)(r.Z,{icon:"XIcon",className:"text-gray-900 w-5 h-5"})})})]}),(0,l.jsx)("div",{className:(0,i.AK)("block w-full scrollbar",v?"overflow-y-scroll":"overflow-y-auto",!m&&"max-h-[calc(90vh-60px)] md:max-h-[calc(80vh-80px)]",m&&"h-[calc(100vh-60px)] md:h-[calc(100vh-80px)]"),children:n})]})})})]})})}},49480:function(e,n,t){t.d(n,{Z:function(){return c}});var l=t(85893),a=t(67294),s=t(3732),o=t(26713),i=function(e){var n=e.target,t=e.extraClassNames,i=(0,a.useRef)(!1),r=(0,a.useState)(!1),c=r[0],d=r[1];return(0,a.useEffect)((function(){return i.current=!0,function(){i.current=!1}}),[]),(0,l.jsx)("div",{className:(0,s.AK)("absolute inset-0 cursor-pointer",t),onClick:function(){if(n){var e=document.querySelector(n);if(e){var t=document.createElement("textarea");t.id="dns-record-copy-column-textarea",t.value=e.innerText,t.style.display="none",document.body.append(t),t.select(),t.setSelectionRange(0,99999),navigator.clipboard.writeText(t.value).finally((function(){var e;null===(e=document.getElementById("dns-record-copy-column-textarea"))||void 0===e||e.remove(),i.current&&d(!0),setTimeout((function(){i.current&&d(!1)}),3e3)}))}}},children:(0,l.jsxs)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:[!c&&(0,l.jsx)(o.Z,{icon:"ClipboardCopyIcon",className:"text-indigo-600 w-5 h-5"}),c&&(0,l.jsx)(o.Z,{icon:"CheckIcon",className:"text-gray-700 w-5 h-5"})]})})},r=t(16494),c=function(e){var n=e.tableID,t=e.dnsRecords,o=e.rowClassName,c=e.colClassName,d=e.copyCol,m=void 0!==d&&d,u=e.copyColColor,x=void 0===u?"bg-indigo-100":u,f=e.isLoading,h=void 0!==f&&f,p=e.emptyRowsMessage,v=void 0===p?null:p,g=[{name:"Type",recWidth:"w-32"},{name:"Name",recWidth:"w-[calc(100%-128px)] sm:w-50"},{name:"Data",recWidth:"w-full sm:w-auto sm:max-w-64"}],y=m?"hover:".concat(x," hover:bg-opacity-60 active:bg-indigo-50 active:bg-opacity-100"):"";return(0,l.jsxs)(l.Fragment,{children:[h&&(0,l.jsx)("div",{className:"flex flex-row flex-wrap justify-center items-center w-full bg-gray-50 h-40 mb-2",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"w-full flex justify-center mb-3",children:(0,l.jsx)(r.Z,{variant:"icon"})}),(0,l.jsx)("span",{className:"w-full text-center text-gray-500 text-cermaic-small font-normal",children:"Loading records..."})]})}),!h&&(0,l.jsxs)("table",{className:"w-full mb-2",id:n,children:[(0,l.jsxs)("thead",{className:"hidden sm:table-header-group",children:[(0,l.jsx)("tr",{children:g.map((function(e,t){return(0,l.jsx)("th",{className:(0,s.AK)("py-1 px-3 text-left",e.recWidth),children:(0,l.jsx)("span",{className:"block w-full text-gray-500 text-ceramic-small font-normal",children:e.name})},"".concat(n,"-th-item-").concat(t))}))}),(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:g.length,className:"h-2 bg-white"})})]}),(0,l.jsxs)("tbody",{children:[!t||!t.length&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("tr",{className:(0,s.AK)("flex flex-row flex-wrap justify-start items-start sm:table-row",o),children:(0,l.jsx)("td",{colSpan:g.length,className:"group relative py-3.5 px-3 border-b-1 border-r-1 bg-gray-100 border-gray-200 sm:border-none sm:rounded-l-md",children:(0,l.jsx)("span",{className:"block w-full text-ceramic-small font-normal break-all pr-8 font-jetbrains",children:null===v?"No records found.":v})})})}),!!t.length&&t.map((function(e,t){return(0,l.jsxs)(a.Fragment,{children:[(0,l.jsxs)("tr",{className:(0,s.AK)("flex flex-row flex-wrap justify-start items-start sm:table-row",o),children:[(0,l.jsxs)("td",{className:(0,s.AK)("group relative py-3.5 px-3 border-b-1 border-r-1 border-gray-200 sm:border-none sm:rounded-l-md",c,g[0].recWidth,y),children:[(0,l.jsx)("span",{className:"text-gray-500 font-normal text-ceramic-xsmall sm:hidden",children:g[0].name}),(0,l.jsx)("span",{className:"block w-full text-ceramic-small font-normal break-all pr-8 font-jetbrains","data-copy-target":"copy-target-".concat(t,"-col-1"),children:e.type}),m&&(0,l.jsx)(i,{target:"".concat(n?"#".concat(n," "):"",'[data-copy-target="copy-target-').concat(t,'-col-1"]'),extraClassNames:"block md:hidden group-hover:block rounded-l-md"})]}),(0,l.jsxs)("td",{className:(0,s.AK)("group relative py-3.5 px-3 border-b-1 border-gray-200 sm:border-none",c,g[1].recWidth,y),children:[(0,l.jsx)("span",{className:"text-gray-500 font-normal text-ceramic-xsmall sm:hidden",children:g[1].name}),(0,l.jsx)("span",{className:"block w-full text-ceramic-small font-normal break-all pr-8 font-jetbrains","data-copy-target":"copy-target-".concat(t,"-col-2"),children:e.name}),m&&(0,l.jsx)(i,{target:"".concat(n?"#".concat(n," "):"",'[data-copy-target="copy-target-').concat(t,'-col-2"]'),extraClassNames:"block md:hidden group-hover:block rounded-l-md"})]}),(0,l.jsxs)("td",{className:(0,s.AK)("group relative py-3.5 px-3 sm:rounded-r-md",c,g[2].recWidth,y),children:[(0,l.jsx)("span",{className:"text-gray-500 font-normal text-ceramic-xsmall sm:hidden",children:g[2].name}),(0,l.jsx)("span",{className:"block w-full text-ceramic-small font-normal break-all pr-8 font-jetbrains","data-copy-target":"copy-target-".concat(t,"-col-3"),children:e.data}),m&&(0,l.jsx)(i,{target:"".concat(n?"#".concat(n," "):"",'[data-copy-target="copy-target-').concat(t,'-col-3"]'),extraClassNames:"block md:hidden group-hover:block rounded-l-md"})]})]}),(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:g.length,className:"h-3 sm:h-2 bg-white"})})]},"".concat(n,"-dns-records-row-").concat(t))}))]})]})]})}},84856:function(e,n,t){var l=t(85893),a=t(3732),s=t(18362),o=t(11163);n.Z=function(e){var n=e.onAction,t=e.onClose,i=e.visible,r=(0,o.useRouter)();return(0,l.jsx)(s.Z,{visible:i,context:{context:"external_domain",page:r.pathname},image:(0,a.sd)("paywalls/pw-upgrade-domain-link-bg.png"),title:"Upgrade to connect your domain",description:"A professional domain helps you convert more leads to customers. Upgrade to connect your existing domain in just a few steps.",buttonTitle:"View Plans",buttonAction:n,featTitle:"You will also get:",features:["More website pages","Premium website features","CRM and automation tools","Invoices and payment tracking"],bgColor:"bg-gray-900",closeColor:"text-white",onClose:function(){t()}})}},18362:function(e,n,t){var l=t(85893),a=t(26713),s=t(11355),o=t(67294),i=t(43714);n.Z=function(e){var n=e.visible,t=e.context,r=e.onClose,c=e.image,d=e.title,m=e.description,u=e.buttonTitle,x=e.buttonAction,f=e.featTitle,h=e.features,p=e.bgColor,v=e.closeColor,g=(0,i.Z)().track,y=c?"url('".concat(c,"')"):null,b=function(){"function"===typeof r&&r()};return(0,o.useEffect)((function(){n&&g("account:paywall-click",{context:t})}),[n]),(0,l.jsxs)(l.Fragment,{children:[n&&(0,l.jsx)("div",{className:"fixed inset-0 z-100 bg-gray-900/20",onClick:b}),(0,l.jsx)(s.u,{show:n,appear:!0,as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-50",enterTo:"opacity-100 translate-y-0",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-50",children:(0,l.jsxs)("div",{className:"fixed bg-white block rounded-t-lg shadow-md z-100 bottom-0 left-0 right-0 w-full max-h-screen overflow-y-auto md:overflow-y-hidden md:h-auto md:rounded-lg md:w-215 md:bottom-auto md:left-[calc(50%-430px)] md:top-[calc(50%-234px)]",children:[(0,l.jsx)("button",{className:"right-5 top-5 absolute z-110",onClick:b,children:(0,l.jsx)(a.Z,{icon:"XIcon",className:"w-5 h-5 ".concat(v||"text-gray-900"," md:text-gray-900")})}),(0,l.jsxs)("div",{className:"flex flex-row flex-wrap justify-center items-center md:flex-nowrap",children:[(0,l.jsx)("div",{className:"w-full md:w-1/2 md:h-120",children:(0,l.jsx)("div",{className:"relative block w-full h-56 md:h-120 ".concat(p||"bg-white"),children:c&&(0,l.jsx)("span",{className:"absolute z-100 inset-0 bg-contain bg-no-repeat bg-center",style:{backgroundImage:y}})})}),(0,l.jsx)("div",{className:"w-full md:w-1/2 md:h-120",children:(0,l.jsxs)("div",{className:"block p-6.5 md:p-8",children:[(0,l.jsx)("h3",{className:"block w-full font-bold text-h3 text-gray-900 mb-4",children:d}),(0,l.jsx)("p",{className:"block w-full text-ceramic-small text-gray-500 font-normal mb-8",children:m}),!!(null===h||void 0===h?void 0:h.length)&&(0,l.jsxs)(l.Fragment,{children:[f&&(0,l.jsx)("p",{className:"block w-full text-gray-900 font-medium text-label mb-4",children:f}),(0,l.jsx)("ul",{className:"m-0 p-0 w-full block mb-4",children:h.map((function(e,n){return(0,l.jsxs)("li",{className:"p-0 m-0 flex flex-row flex-nowrap justify-start items-center pb-3.5",children:[(0,l.jsx)("span",{className:"mr-1",children:(0,l.jsx)(a.Z,{icon:"CheckCircleSolidIcon",className:"w-5 h-5"})}),(0,l.jsx)("span",{className:"text-gray-900 font-normal text-label",children:e})]},"paywall-feature-".concat(n))}))})]}),(0,l.jsx)("button",{className:"block w-full p-4 text-center text-white text-base font-medium rounded-md bg-indigo-600",onClick:function(){x()},children:u})]})})]})]})})]})}},98897:function(e,n,t){t.d(n,{Z:function(){return A}});var l=t(85893),a=t(67294),s=t(25675),o=t.n(s),i=t(3732),r=t(26713),c=t(2740),d=t(38947),m=function(e){var n=e.title,t=e.tag,a=e.tagClasses,s=e.onAction,o=e.disabled,c=e.children;return(0,l.jsx)("div",{onClick:function(){o||"function"===typeof s&&s()},className:(0,i.AK)("block w-full rounded-lg border-gray-300 border-1 p-6 shadow-sm select-none",o?"bg-gray-50":"cursor-pointer hover:bg-gray-50 hover:bg-opacity-50"),children:(0,l.jsxs)("div",{className:"w-fulll flex flex-row flex-nowrap justify-between items-center",children:[(0,l.jsxs)("div",{className:"flex flex-row flex-wrap justify-start items-start",children:[(0,l.jsxs)("span",{className:"flex flex-row flex-nowrap justify-start items-center w-full font-semibold text-ceramic-medium text-gray-900 mb-4",children:[(0,l.jsx)("span",{className:(0,i.AK)(o?"text-gray-500":""),children:n}),!!t&&(0,l.jsx)("span",{className:(0,i.AK)("ml-1 rounded-full px-2.5 py-0.5 text-body-sm text-center font-medium",a?"":"text-indigo-800 bg-indigo-100",a),children:t})]}),(0,l.jsx)("span",{className:"w-full text-ceramic-small text-gray-500",children:c})]}),!o&&(0,l.jsx)("div",{className:"flex items-center ml-3 w-6 h-6",children:(0,l.jsx)(r.Z,{icon:"ChevronRightIcon",className:"text-gray-500 h-6"})})]})})},u=function(e){var n=e.onBookAction;return(0,l.jsx)(m,{title:"Schedule a Support Session",onAction:n,children:(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("ul",{className:"text-gray-900",children:[(0,l.jsxs)("li",{className:"mb-4 flex flex-row flex-nowrap justify-start items-center gap-1 text-ceramic-small",children:[(0,l.jsx)("div",{className:"w-5 h-5 min-w-5 flex flex-flow justify-center items-center mr-4",children:(0,l.jsx)(r.Z,{icon:"ClockSolidIcon",className:"w-4 h-4 text-gray-500"})}),(0,l.jsx)("span",{children:"30 minutes"})]}),(0,l.jsxs)("li",{className:"mb-4 flex flex-row flex-nowrap justify-start items-center gap-1 text-ceramic-small",children:[(0,l.jsx)("div",{className:"w-5 h-5 min-w-5 flex flex-flow justify-center items-center mr-4",children:(0,l.jsx)(r.Z,{icon:"VideoCameraSolidIcon",className:"w-5 h-5 text-gray-500"})}),(0,l.jsx)("span",{children:"Video call"})]}),(0,l.jsxs)("li",{className:"mb-4 flex flex-row flex-nowrap justify-start items-center gap-1 text-ceramic-small",children:[(0,l.jsx)("div",{className:"w-5 h-5 min-w-5 flex flex-flow justify-center items-center mr-4",children:(0,l.jsx)(r.Z,{icon:"CalendarSolidIcon",className:"w-4 h-4 text-gray-500"})}),(0,l.jsx)("span",{children:"Choose from available times"})]})]})})})},x=t(75511),f=t(95350),h=t(4519),p=t(16494),v=function(e){var n=e.entryPoint,t=e.onClose,s=(0,a.useState)(!1),o=s[0],i=s[1],c=(0,a.useState)(!0),d=c[0],u=c[1],v=(0,a.useRef)(!1),g=(0,h.Z)().get,y=(0,x.S)(),b=y.openSupport,w=y.isOpenSupport;return(0,a.useEffect)((function(){return v.current=!0,u(!0),g("/support/is-on-available-hours",{}).then((function(e){var n;v.current&&(!0===(null===e||void 0===e?void 0:e.status)&&!0===(null===e||void 0===e||null===(n=e.content)||void 0===n?void 0:n.available)?i(!0):i(!1))})).catch((function(){v.current&&i(!1)})).finally((function(){v.current&&u(!1)})),function(){v.current=!1}}),[]),(0,l.jsxs)(l.Fragment,{children:[d&&(0,l.jsx)(p.Z,{variant:"box-inner"}),!d&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(m,{title:"Live chat",tag:"".concat(o?"Online now":"Away"),tagClasses:"".concat(o?"bg-green-100 text-green-800":"bg-gray-200 text-gray-800"),onAction:function(){o&&(t(),w||b(!1,0,n||"general").catch((function(){return f.Z.error("Something went wrong")})))},disabled:!o,children:(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("ul",{className:"text-gray-900",children:[(0,l.jsxs)("li",{className:"mb-4 flex flex-row flex-nowrap justify-start items-center text-ceramic-small",children:[(0,l.jsx)("div",{className:"w-4 h-4 min-w-5 flex flex-flow justify-center items-center mr-4",children:(0,l.jsx)(r.Z,{icon:"CalendarSolidIcon",className:"w-4 h-4 text-gray-500"})}),(0,l.jsx)("span",{children:"Monday-Friday"})]}),(0,l.jsxs)("li",{className:"mb-4 flex flex-row flex-nowrap justify-start items-center text-ceramic-small",children:[(0,l.jsx)("div",{className:"w-4 h-4 min-w-5 flex flex-flow justify-center items-center mr-4",children:(0,l.jsx)(r.Z,{icon:"ClockSolidIcon",className:"w-4 h-4 text-gray-500"})}),(0,l.jsx)("span",{children:"7am\u20134:30pm PST"})]})]})})})})]})},g=function(e){var n=e.onAction,t=e.onClose,a=e.entryPoint;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"block md:mb-20 md:mt-10 p-6 pt-0 w-120 max-w-full mx-auto",children:[(0,l.jsx)("h4",{className:"text-h4 font-semibold text-left text-gray-900 mb-6",children:"Get help connecting your domain from a Durable domain expert."}),(0,l.jsxs)("ul",{className:"block w-full",children:[(0,l.jsx)("li",{className:"block w-full mb-6",children:(0,l.jsx)(v,{entryPoint:a,onClose:t})}),(0,l.jsx)("li",{className:"block w-full",children:(0,l.jsx)(u,{onBookAction:n})})]})]})})},y=t(4298),b=t.n(y),w=function(e){var n=e.domainName,t=e.onSuccess,s=(0,h.Z)().get,o=(0,a.useState)("700px"),i=o[0],r=o[1],c="https://calendly.com/durable-team/domain-assistance",d=function(e){var n,l;(function(e){var n;return"https://calendly.com"===(null===e||void 0===e?void 0:e.origin)&&(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.event)&&0===e.data.event.indexOf("calendly.")})(e)&&("calendly.event_scheduled"===e.data.event&&function(e){var n=function(e){try{var n,t,l=null===(n=e.event)||void 0===n?void 0:n.uri,a=null===e||void 0===e||null===(t=e.invitee)||void 0===t?void 0:t.uri;return{schedule:l.replace("https://api.calendly.com/scheduled_events/","").replaceAll(/[^0-9a-zA-Z-]/g,""),invite:a.replace(l,"").replace("/invitees/","").replaceAll(/[^0-9a-zA-Z-]/g,"")}}catch(s){return{}}}(e.data.payload);s("/support/calendly-invite-info",n).then((function(e){e&&!0===(null===e||void 0===e?void 0:e.status)&&t(e.content)})).catch((function(e){return console.log(e)}))}(e),"calendly.page_height"===e.data.event&&r(null===(n=e.data)||void 0===n||null===(l=n.payload)||void 0===l?void 0:l.height))};return(0,a.useEffect)((function(){return window.removeEventListener("message",d),window.addEventListener("message",d),function(){window.removeEventListener("message",d)}}),[n]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"block w-180 max-w-full mx-auto max-h-[80vh] overflow-y-auto -pt-6",children:[(0,l.jsx)("div",{className:"iframe-booking","data-url":c,style:{width:"720px",maxWidth:"100%",height:i}}),(0,l.jsx)(b(),{src:"https://assets.calendly.com/assets/external/widget.js",strategy:"lazyOnload",onReady:function(){"object"===typeof(null===window||void 0===window?void 0:window.Calendly)&&window.Calendly.initInlineWidget({url:c,parentElement:document.querySelector(".iframe-booking")})}})]})})},j=t(52077),N=t(30120),k=function(e){var n=(0,h.Z)().get,t=e.domainName,s=e.registrarName,c=e.onClose,d=e.bookPayload,m=(0,a.useState)(s),u=m[0],x=m[1],f=(0,a.useState)(null),p=f[0],v=f[1],g=(0,a.useState)(null),y=g[0],b=g[1],w=(0,a.useState)(null),k=w[0],C=w[1],S=(0,a.useState)(null),Z=S[0],A=S[1],E=(0,a.useState)(null),I=E[0],D=E[1];return(0,a.useEffect)((function(){v((null===d||void 0===d?void 0:d.email)||null),b((null===d||void 0===d?void 0:d.name)||null),C((null===d||void 0===d?void 0:d.title)||null),function(e){if(e){var n=N.ou.fromISO(e,{zone:"America/Vancouver"});A(n.toFormat("EEEE, MMMM dd, y")),D(n.toFormat("hh:mm a").toLowerCase())}else A(null),D(null)}(null===d||void 0===d?void 0:d.date)}),[d]),(0,a.useEffect)((function(){s||n("/domain-lookup/registrar",{domainName:t}).then((function(e){var n,t;e&&!0===(null===e||void 0===e?void 0:e.status)?x(null===e||void 0===e||null===(n=e.content)||void 0===n||null===(t=n.registrar)||void 0===t?void 0:t.name):x("in your registrar")})).catch((function(){x("in your registrar")}))}),[t,s]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"block p-5 w-120 max-w-full mx-auto",children:[(0,l.jsx)("div",{className:"relative block w-full h-30",children:(0,l.jsx)(o(),{src:(0,i.sd)("support/support-success-banner.svg"),layout:"fill",alt:"Banner"})}),(0,l.jsxs)("h4",{className:"text-h4 font-semibold text-center text-gray-900 mb-3",children:["You're"," Booked"]}),(0,l.jsx)("p",{className:"text-ceramic-medium font-normal text-center text-gray-900 mb-5",children:"A calendar invitation has been sent to your email address"}),(0,l.jsxs)("ul",{className:"block w-full bg-gray-50 p-6 mb-6 rounded-md",children:[(0,l.jsx)("li",{className:"mb-4",children:(0,l.jsx)("span",{className:"font-semibold text-body text-gray-900",children:"Durable domain support"})}),(0,l.jsxs)("li",{className:"mb-4 flex flex-row flex-nowrap justify-start items-center gap-1 text-ceramic-small",children:[(0,l.jsx)("div",{className:"w-5 h-5 min-w-5 flex flex-flow justify-center items-center",children:(0,l.jsx)(r.Z,{icon:"UserSolidIcon",className:"w-5 h-5 text-gray-900"})}),(0,l.jsxs)("div",{className:"ml-5 text-ceramic-small text-left text-gray-900 font-normal",children:[(0,l.jsx)("p",{children:y||""}),(0,l.jsx)("p",{children:p||""})]})]}),Z&&I&&k&&(0,l.jsxs)("li",{className:"mb-4 flex flex-row flex-nowrap justify-start items-center gap-1 text-ceramic-small",children:[(0,l.jsx)("div",{className:"w-5 h-5 min-w-5 flex flex-flow justify-center items-center",children:(0,l.jsx)(r.Z,{icon:"CalendarIcon",className:"w-5 h-5 text-gray-900"})}),(0,l.jsxs)("div",{className:"ml-5 text-ceramic-small text-left text-gray-900 font-normal",children:[(0,l.jsx)("p",{children:Z}),(0,l.jsxs)("p",{children:[I," (",k,")"]})]})]}),(0,l.jsxs)("li",{className:"mb-4 flex flex-row flex-nowrap justify-start items-center gap-1 text-ceramic-small",children:[(0,l.jsx)("div",{className:"w-5 h-5 min-w-5 flex flex-flow justify-center items-center",children:(0,l.jsx)(r.Z,{icon:"GlobeIcon",className:"w-5 h-5 text-gray-900"})}),(0,l.jsx)("div",{className:"ml-5 text-ceramic-small text-left text-gray-900 font-normal",children:(0,l.jsx)("p",{children:"Pacific Time (US & Canada)"})})]})]}),(0,l.jsxs)("div",{className:"flex flex-row flex-wrap md:flex-nowrap justify-start items-start bg-blue-50 p-4 rounded-md gap-4 mb-4",children:[(0,l.jsx)("div",{children:(0,l.jsx)(r.Z,{icon:"InformationCircleSolidIcon",className:"text-blue-600 w-5 h-5"})}),(0,l.jsxs)("div",{className:"text-blue-800 font-medium text-ceramic-small",children:[(0,l.jsx)("p",{className:"mb-2",children:"Before the meeting, please:"}),(0,l.jsxs)("ul",{className:"list-disc ml-3.5",children:[(0,l.jsxs)("li",{className:"w-full mb-2",children:["Make sure you own the domain ",t]}),(0,l.jsxs)("li",{className:"w-full mb-2",children:["Sign into ",u," (if possible)"]})]})]})]}),(0,l.jsx)("div",{className:"flex flex-row flex-nowrap justify-center gap-3 p-6",children:(0,l.jsx)("div",{children:(0,l.jsx)(j.Z,{className:"light w-full",onClick:c,children:"Close"})})})]})})},C="welcome",S="calendar",Z="success",A=function(e){var n=e.open,t=e.setOpen,s=e.domainName,m=e.registrarName,u=e.entryPoint,x=(0,a.useState)(C),f=x[0],h=x[1],p=(0,a.useState)(null),v=p[0],y=p[1],b=(0,a.useRef)(null),j=function(){t(!1),setTimeout((function(){!0===(null===b||void 0===b?void 0:b.current)&&h(C)}),1e3)};return(0,a.useEffect)((function(){return b.current=!0,function(){b.current=!1}}),[]),(0,l.jsx)(c.h,{children:(0,l.jsxs)(d.Z,{open:n,setOpen:t,hasCustomBody:!0,fullMode:!0,mobileExpanded:!0,children:[(0,l.jsxs)("div",{className:"flex flex-row justify-between items-center p-6 md:py-6 md:px-18",children:[(0,l.jsx)("div",{children:(0,l.jsx)(o(),{src:(0,i.sd)("durable-icon-primary.svg"),width:32,height:32,alt:"Durable"})}),(0,l.jsx)("div",{className:"flex justify-center items-center w-8 h-8 cursor-pointer",onClick:j,children:(0,l.jsx)(r.Z,{icon:"XIcon",className:"w-6 h-6 text-gray-900"})})]}),f===C&&(0,l.jsx)(g,{onAction:function(){h(S)},onClose:function(){return t(!1)},entryPoint:u}),f===S&&(0,l.jsx)(w,{domainName:s,onSuccess:function(e){y(e),h(Z)}}),f===Z&&(0,l.jsx)(k,{onClose:j,domainName:s,registrarName:m,bookPayload:v})]})})}}}]);