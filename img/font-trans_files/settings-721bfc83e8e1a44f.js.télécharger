(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4347],{46360:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/website/settings",function(){return s(48046)}])},48176:function(e,t,s){"use strict";var n=s(85893),i=s(25675),r=s.n(i);t.Z=function(e){var t=e.imgSrc,s=e.title,i=e.subtitle,a=e.cta;return(0,n.jsxs)("div",{className:"flex flex-col gap-5 items-center max-w-100",children:[t&&(0,n.jsx)("div",{className:"relative w-72 h-24 max-w-full",children:(0,n.jsx)(r(),{src:t,alt:s,layout:"fill",objectFit:"cover"})}),(0,n.jsxs)("div",{className:"flex flex-col gap-2 text-center",children:[(0,n.jsx)("p",{className:"body-lg font-bold text-black",children:s}),(0,n.jsx)("p",{className:"text-gray-500",children:i})]}),a]})}},67568:function(e,t,s){"use strict";s.d(t,{S:function(){return d},Z:function(){return c}});var n=s(10253),i=s(85893),r=s(61437),a=s(11355),l=s(67294),o=s(3732);function d(e){var t=e.children,s=e.text,n=e.dirty;e.className;return(0,i.jsx)(a.u,{as:l.Fragment,show:n,enter:"transition-opacity duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,i.jsxs)("div",{className:"sticky bottom-0 z-50 flex items-center justify-between gap-3 p-4 sm:px-6 bg-white border-t border-gray-100 lg:rounded-b-lg",children:[(0,i.jsx)("p",{className:"text-sm font-medium",children:null!==s&&void 0!==s?s:"Save changes?"}),(0,i.jsx)("div",{className:"flex items-center gap-3",children:t})]})})}function c(e){var t=e.children,s=e.dirty,a=e.className,l=e.fullBorder,d=void 0!==l&&l,c=(0,n.Z)((0,r.Z)("layout.sidebarOpen"),2),u=c[0];c[1];return(0,i.jsx)("div",{className:(0,o.AK)(s?"bottom-0 opacity-100":"-bottom-80 opacity-0","fixed left-0 right-0 z-90 lg:z-50 bg-gray-50 transition-all duration-300 lg:rounded-b-lg",u?"md:left-[15.5rem]":"md:left-24",d?"md:px-0":"md:px-6",a),children:(0,i.jsx)("div",{className:(0,o.AK)("flex items-center justify-between gap-3 py-4 px-6 border-t border-gray-300",d?"md:px-6":"md:px-0"),children:t})})}},92265:function(e,t,s){"use strict";s.d(t,{Z:function(){return x}});var n=s(47568),i=s(10253),r=s(97582),a=s(3732),l=s(11215),o=s(4519),d=s(61437),c=s(67294),u=s(33299);function x(){var e=(0,i.Z)((0,d.Z)("business.settings.ai",null),3),t=e[0],s=e[1],x=e[2],m=(0,i.Z)((0,d.Z)("business.loadingAiSettings",!1),3),g=m[0],h=m[1],b=m[2],v=(0,i.Z)((0,d.Z)("business.settings.ai.businessId",null),3),p=v[1],f=v[2],y=(0,l.Z)(),j=y.current,w=y.reloadBusinesses,N=(0,u.useSession)().data,Z=!!(null===N||void 0===N?void 0:N.user),_=(0,o.Z)(),C=_.get,S=_.post,k=function(){var e=(0,n.Z)((function(){var e,t;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return p(null===j||void 0===j?void 0:j._id),h(!0),[4,C("/business/get-settings")];case 1:return(e=n.sent())&&!0===e.status&&e.content&&(t=e.content.ai||{model:"better",language:"en"},(0,a.Fs)("business.settings.ai",t),s(t)),h(!1),[2,e]}}))}));return function(){return e.apply(this,arguments)}}(),A=function(){var e=(0,n.Z)((function(){var e,s,n=arguments;return(0,r.__generator)(this,(function(i){switch(i.label){case 0:return e=!(n.length>0&&void 0!==n[0])||n[0],[4,S("/business/save-settings",{path:"ai",value:t})];case 1:return(s=i.sent())&&!0===s.status&&(w(),e&&a.Z9.success("Settings saved!")),[2,s]}}))}));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){Z&&(null===j||void 0===j?void 0:j._id)&&(!x.current&&!b.current||f.current!==(null===j||void 0===j?void 0:j._id))&&k()}),[j,Z]),{aiSettings:t,setAiSettings:s,loadingAiSettings:g,getAiSettings:k,saveAiSettings:A,aiSettingsRef:x}}},48046:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return S}});var n=s(47568),i=s(26042),r=s(69396),a=s(10253),l=s(97582),o=s(85893),d=s(67294),c=(s(41664),s(11355)),u=s(75131),x=s(11163),m=s(61437),g=s(33299),h=s(48176),b=s(80360),v=s(16494),p=s(3732),f=s(26713),y=s(4519),j=s(60728),w=s(67568),N=s(52077),Z=s(53371),_=s(22295),C=s(43714);function S(){var e,t,s,S,k=(0,a.Z)((0,m.Z)("header.showTabs",!1,!0),2)[1],A=((0,a.Z)((0,m.Z)("layout.title","Website",!0),0),(0,a.Z)((0,m.Z)("header.back","/crm/contacts",!0),2)[1]),K=(0,d.useState)(!1),E=K[0],O=K[1],I=(0,d.useState)(),T=I[0],F=I[1],D=(0,d.useState)(!1),R=D[0],W=D[1],J=(0,d.useState)(null),P=J[0],B=J[1],z=(0,d.useState)(!1),Q=z[0],U=z[1],$=(0,d.useState)(!1),q=$[0],G=$[1],H=(0,d.useState)("disabled"),V=H[0],X=H[1],Y=(0,d.useState)(!1),L=Y[0],M=Y[1],ee=(0,d.useState)(!1),te=ee[0],se=ee[1],ne=(0,d.useState)(!1),ie=ne[0],re=ne[1],ae=(0,d.useState)({head:"",footer:""}),le=ae[0],oe=ae[1],de=(0,d.useState)("none"),ce=de[0],ue=de[1],xe=(0,d.useState)(!1),me=xe[0],ge=xe[1],he=(0,d.useRef)(null),be=(0,d.useState)([]),ve=be[0],pe=be[1],fe=(0,d.useState)(null),ye=fe[0],je=fe[1],we=(0,d.useState)(!1),Ne=we[0],Ze=we[1],_e=(0,d.useState)(null),Ce=_e[0],Se=_e[1],ke=(0,d.useState)(!1),Ae=ke[0],Ke=ke[1],Ee=(0,C.Z)().track,Oe=(0,j.Z)(),Ie=Oe.confirm,Te=Oe.ConfirmDialog,Fe=(0,y.Z)(),De=Fe.get,Re=Fe.post,We=(0,x.useRouter)(),Je=(0,g.useSession)().data,Pe=We.query.scrollTo,Be=(0,d.useCallback)((0,n.Z)((function(){return(0,l.__generator)(this,(function(e){switch(e.label){case 0:return O(!0),Q?[4,He()]:[3,2];case 1:e.sent(),e.label=2;case 2:return q?[4,Ve()]:[3,4];case 3:e.sent(),e.label=4;case 4:return ie?[4,Qe()]:[3,6];case 5:e.sent(),e.label=6;case 6:return me?[4,Ue()]:[3,8];case 7:e.sent(),e.label=8;case 8:return Ne?[4,ze()]:[3,10];case 9:e.sent(),e.label=10;case 10:return[4,Ge()];case 11:return e.sent(),[4,qe()];case 12:return e.sent(),$e().catch(console.error),p.Z9.success("Website saved!"),O(!1),[2]}}))})),[Q,ie,q,me,V,L,le,ce,Ne,ye]),ze=(0,d.useCallback)((0,n.Z)((function(){var e;return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return[4,Re("/website/save-home-page",{id:ye.id})];case 1:return(e=t.sent())&&e.status&&Ze(!1),[2]}}))})),[ye]),Qe=(0,d.useCallback)((0,n.Z)((function(){var e;return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return[4,Re("/website/save-custom-code",le)];case 1:return(e=t.sent())&&e.status&&re(!1),[2]}}))})),[le]),Ue=(0,d.useCallback)((0,n.Z)((function(){var e;return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return[4,Re("/website/change-redirect",{redirect:ce})];case 1:return(e=t.sent())&&e.status&&ge(!1),[2]}}))})),[ce]),$e=function(){var e=(0,n.Z)((function(){var e;return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return O(!0),[4,Re("/website/wipe-cache")];case 1:return(e=t.sent())&&e.status&&p.Z9.success("Cache wiped! Changes will be visible in a few minutes."),O(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}(),qe=function(){var e=(0,n.Z)((function(){var e,t,s,n;return(0,l.__generator)(this,(function(i){switch(i.label){case 0:return O(!0),[4,De("/website/get-pages")];case 1:return(e=i.sent())&&e.status&&(n=null===(s=null===(t=e.content)||void 0===t?void 0:t.filter((function(e){return"parent"!==e.type&&"blog"!==e.type})))||void 0===s?void 0:s.map((function(e){return{id:e._id,name:e.label,slug:e.slug}})),pe(n),je(n.find((function(e){return null===e.slug}))),Se((0,p.p$)(n.find((function(e){return null===e.slug}))))),O(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}(),Ge=function(){var e=(0,n.Z)((function(){var e,t,s,n;return(0,l.__generator)(this,(function(a){switch(a.label){case 0:return O(!0),[4,De("/website/get")];case 1:return(e=a.sent())&&!0===e.status&&e.content&&(n=(0,r.Z)((0,i.Z)({},e.content),{searchIndexing:!!e.content.searchIndexing,subdomain:(0,p.nv)(e.content.subdomain,e.content.durableDomain)}),(0,p.Fs)("website",n),F(n),B((0,p.p$)(n)),X(n.status),M(!!n.searchIndexing),oe({headCode:null===n||void 0===n||null===(t=n.seo)||void 0===t?void 0:t.headCode,footerCode:null===n||void 0===n||null===(s=n.seo)||void 0===s?void 0:s.footerCode}),ue(n.redirect||"none")),O(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}(),He=(0,d.useCallback)((0,n.Z)((function(){return(0,l.__generator)(this,(function(e){return[2,new Promise(function(){var e=(0,n.Z)((function(e,t){return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return"disabled"!==V||V===(null===P||void 0===P?void 0:P.status)?[3,1]:(Ie("Disable your website?","Disabling your website will remove any SSL certificate and DNS configuration.",(0,n.Z)((function(){return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return[4,Xe()];case 1:return t.sent(),e(),[2]}}))}))),[3,3]);case 1:return[4,Xe()];case 2:t.sent(),e(),t.label=3;case 3:return[2]}}))}));return function(t,s){return e.apply(this,arguments)}}())]}))})),[V,null===P||void 0===P?void 0:P.status]),Ve=(0,d.useCallback)((0,n.Z)((function(){return(0,l.__generator)(this,(function(e){return[2,new Promise(function(){var e=(0,n.Z)((function(e,t){return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return L||L===(null===P||void 0===P?void 0:P.searchIndexing)?[3,1]:(Ie("Disable search indexing?","It will make all search tools like Google and Bing to stop showing your website.",(0,n.Z)((function(){return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return[4,Ye()];case 1:return t.sent(),e(),[2]}}))}))),[3,3]);case 1:return[4,Ye()];case 2:t.sent(),e(),t.label=3;case 3:return[2]}}))}));return function(t,s){return e.apply(this,arguments)}}())]}))})),[L,null===P||void 0===P?void 0:P.searchIndexing]),Xe=(0,d.useCallback)((0,n.Z)((function(){var e;return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return[4,Re("/website/toggle-status",{status:V})];case 1:return(e=t.sent())&&e.status&&(U(!1),window.dispatchEvent(new CustomEvent("onboarding-app-checklist-refresh"))),[2]}}))})),[V]),Ye=(0,d.useCallback)((0,n.Z)((function(){var e;return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return[4,Re("/website/save-search-indexing",{searchIndexing:L})];case 1:return(e=t.sent())&&e.status&&G(!1),[2]}}))})),[L]),Le=function(e){return"public"===e?"Published":"private"===e?"Unpublished":"Disabled"};return(0,d.useEffect)((function(){if((Q||q||ie||me)&&JSON.stringify(P)!==JSON.stringify(T)){var e=(0,p.p$)(P);F(e),W(!1)}}),[Q,q,ie,me]),(0,d.useEffect)((function(){if(T&&P){var e,t,s={headCode:null===P||void 0===P||null===(e=P.seo)||void 0===e?void 0:e.headCode,footerCode:null===P||void 0===P||null===(t=P.seo)||void 0===t?void 0:t.footerCode};JSON.stringify(P)===JSON.stringify(T)&&P.status===V&&P.searchIndexing===L&&P.redirect===ce&&JSON.stringify(s)===JSON.stringify(le)?W(!1):W(!0)}}),[T,V,L,le,ce,P]),(0,d.useEffect)((function(){return function(){clearTimeout(undefined)}}),[T]),(0,d.useEffect)((function(){var e;if(T&&(null===We||void 0===We||null===(e=We.query)||void 0===e?void 0:e.scroll)){var t,s=document.getElementById(null===We||void 0===We||null===(t=We.query)||void 0===t?void 0:t.scroll);s&&(s.scrollIntoView({behavior:"smooth"}),We.push("/website/settings",void 0,{shallow:!0}))}}),[We,T]),(0,d.useEffect)((function(){A(!1),k(!0),Ge(),qe()}),[]),(0,d.useEffect)((function(){Pe&&"domain"===Pe&&(null===he||void 0===he?void 0:he.current)&&he.current.scrollIntoView({behavior:"smooth",block:"center"})}),[E]),T&&!T.generatedAt&&T.generate?(0,o.jsx)("div",{className:"flex items-center justify-center w-full h-full",children:(0,o.jsx)(h.Z,{className:"m-auto",imgSrc:(0,p.sd)("brand/EmptyWebsite.svg"),title:"No website yet",subtitle:"Create a website in 30 seconds using AI",cta:(0,o.jsx)("button",{className:"button primary",onClick:function(){return We.push("/website/builder")},children:"Generate website"})})}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Z.Z,{context:"publish_website",open:te,setOpen:se}),(0,o.jsxs)(w.Z,{dirty:R,children:[(0,o.jsx)("p",{className:"text-sm font-medium",children:"Unsaved"}),(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("button",{className:"secondary",disabled:E,onClick:function(){return function(){var e,t,s=(0,p.p$)(P);F(s),X(s.status),M(!!s.indexingStatus),oe({headCode:null===s||void 0===s||null===(e=s.seo)||void 0===e?void 0:e.headCode,footerCode:null===s||void 0===s||null===(t=s.seo)||void 0===t?void 0:t.footerCode}),ue(s.redirect||"none"),W(!1),U(!1),G(!1),re(!1),ge(!1),Ze(!1),je(ve.find((function(e){return null===e.slug})))}()},children:"Discard"}),(0,o.jsx)(N.Z,{className:"primary",onClick:function(){return Be()},loading:E,children:"Save"})]})]}),(0,o.jsxs)("div",{className:"flex flex-col max-w-3xl mx-auto",children:[(!T||E)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(v.Z,{variant:"box"}),(0,o.jsx)(v.Z,{variant:"box"}),(0,o.jsx)(v.Z,{variant:"box"})]}),T&&!E&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{id:"website-status",className:"bg-white rounded-lg shadow mb-5 scroll-offset",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-gray-200",children:[(0,o.jsx)("p",{className:"mb-0 font-bold text-gray-900",children:"Status"}),"public"===(null===T||void 0===T?void 0:T.status)&&(0,o.jsxs)("p",{className:"flex items-center gap-2 text-xs text-green-800 px-2.5 py-0.5 rounded-3xl bg-green-100",children:[(0,o.jsx)("span",{className:"w-1 h-1 rounded-full bg-green-400"}),(0,o.jsx)("span",{children:Le(null===T||void 0===T?void 0:T.status)})]}),"private"===(null===T||void 0===T?void 0:T.status)&&(0,o.jsxs)("p",{className:"flex items-center gap-2 text-xs text-yellow-800 px-2.5 py-0.5 rounded-3xl bg-yellow-100",children:[(0,o.jsx)("span",{className:"w-1 h-1 rounded-full bg-yellow-400"}),(0,o.jsx)("span",{children:Le(null===T||void 0===T?void 0:T.status)})]}),"disabled"===(null===T||void 0===T?void 0:T.status)&&(0,o.jsxs)("p",{className:"flex items-center gap-2 text-xs text-gray-800 px-2.5 py-0.5 rounded-3xl bg-gray-100",children:[(0,o.jsx)("span",{className:"w-1 h-1 rounded-full bg-gray-400"}),(0,o.jsx)("span",{children:Le(null===T||void 0===T?void 0:T.status)})]})]}),(0,o.jsx)("div",{className:"p-4 md:p-6",children:(0,o.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("p",{className:"text-gray-900 font-medium mb-1",children:["Website is currently ",(0,o.jsx)("span",{className:"lowercase",children:Le(null===T||void 0===T?void 0:T.status)})]}),"public"===(null===T||void 0===T?void 0:T.status)&&(0,o.jsx)("p",{className:"text-sm text-gray-500",children:"Anyone can see the website"}),"private"===(null===T||void 0===T?void 0:T.status)&&(0,o.jsx)("p",{className:"text-sm text-gray-500",children:"Only you can see the website"}),"disabled"===(null===T||void 0===T?void 0:T.status)&&(0,o.jsx)("p",{className:"text-sm text-gray-500",children:"The website and its features are disabled"})]}),(0,o.jsx)("div",{className:"flex items-center gap-2",children:!Q&&(0,o.jsx)("button",{className:"link sm",onClick:function(){return U(!0)},disabled:E,children:"Change"})})]}),(0,o.jsx)(c.u,{show:Q,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,o.jsx)("div",{className:"mt-6",children:(0,o.jsxs)(u.E,{className:"flex flex-col gap-5",value:V,onChange:function(e){var t,s,n;(null===Je||void 0===Je||null===(t=Je.user)||void 0===t||null===(s=t.plan)||void 0===s||null===(n=s.features)||void 0===n?void 0:n.includes("publish-website"))||"public"!==e?X(e):(Ee("account:paywall-click",{context:"publish_website_settings",page:null===We||void 0===We?void 0:We.pathname}),se(!0),X("private"))},children:[(0,o.jsx)(u.E.Option,{value:"public",children:function(e){var t,s,n,i=e.checked;return(0,o.jsxs)("div",{className:(0,p.AK)("flex gap-3 py-3 px-4 bg-white rounded-lg border cursor-pointer transition-all",i?"border-indigo-600 bg-indigo-50":"border-gray-300"),children:[(0,o.jsx)("span",{className:(0,p.AK)("w-4 h-4 mt-1 bg-white border border-gray-200 rounded-full transition-all",i&&"border-4 border-indigo-600")}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("p",{className:(0,p.AK)("flex items-center text-sm font-medium",i?"text-indigo-900":"text-gray-900"),children:[Le("public"),!(null===Je||void 0===Je||null===(t=Je.user)||void 0===t||null===(s=t.plan)||void 0===s||null===(n=s.features)||void 0===n?void 0:n.includes("publish-website"))&&(0,o.jsx)("span",{className:"ml-2 px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"PRO"})]}),(0,o.jsx)("p",{className:(0,p.AK)("text-sm",i?"text-indigo-700":"text-gray-500"),children:"Anyone can see the website"})]})]})}}),(0,o.jsx)(u.E.Option,{value:"private",children:function(e){var t=e.checked;return(0,o.jsxs)("div",{className:(0,p.AK)("flex gap-3 py-3 px-4 bg-white rounded-lg border cursor-pointer transition-all",t?"border-indigo-600 bg-indigo-50":"border-gray-300"),children:[(0,o.jsx)("span",{className:(0,p.AK)("w-4 h-4 mt-1 bg-white border border-gray-200 rounded-full transition-all",t&&"border-4 border-indigo-600")}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:(0,p.AK)("text-sm font-medium",t?"text-indigo-900":"text-gray-900"),children:Le("private")}),(0,o.jsx)("p",{className:(0,p.AK)("text-sm",t?"text-indigo-700":"text-gray-500"),children:"Only you can see the website"})]})]})}}),(0,o.jsx)(u.E.Option,{value:"disabled",children:function(e){var t=e.checked;return(0,o.jsxs)("div",{className:(0,p.AK)("flex gap-3 py-3 px-4 bg-white rounded-lg border cursor-pointer transition-all",t?"border-indigo-600 bg-indigo-50":"border-gray-300"),children:[(0,o.jsx)("span",{className:(0,p.AK)("w-4 h-4 mt-1 bg-white border border-gray-200 rounded-full transition-all",t&&"border-4 border-indigo-600")}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:(0,p.AK)("text-sm font-medium",t?"text-indigo-900":"text-gray-900"),children:Le("disabled")}),(0,o.jsx)("p",{className:(0,p.AK)("text-sm",t?"text-indigo-700":"text-gray-500"),children:"The website and its features are disabled"})]})]})}})]})})})]})})]}),(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow mb-5",children:[(0,o.jsx)("div",{className:"flex flex-col md:flex-row items-start md:items-center md:justify-between gap-y-2 p-4 md:p-6 border-b border-gray-200",children:(0,o.jsx)("p",{className:"mb-0 font-bold text-gray-900",children:"Home page"})}),(0,o.jsx)("div",{className:"p-4 md:p-6",children:(0,o.jsx)(b.Z,{label:"Choose the first page that users see when visiting your website",values:ve,value:ye,onChange:function(e){je(e),W((null===Ce||void 0===Ce?void 0:Ce.id)!==e.id),Ze((null===Ce||void 0===Ce?void 0:Ce.id)!==e.id)}})})]}),(null===T||void 0===T?void 0:T.domain)&&(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow mb-5",children:[(0,o.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center md:justify-between gap-y-2 p-4 md:p-6 border-b border-gray-200",children:[(0,o.jsx)("p",{className:"mb-0 font-bold text-gray-900",children:"Redirection"}),(null===T||void 0===T?void 0:T.redirect)&&"none"!==(null===T||void 0===T?void 0:T.redirect)?"to-www"===(null===T||void 0===T?void 0:T.redirect)?(0,o.jsxs)("p",{className:"flex flex-wrap items-center gap-1 text-xs text-blue-800 px-2.5 py-0.5 rounded-3xl bg-blue-100",children:[(0,o.jsx)("span",{className:"w-1 h-1 rounded-full bg-blue-400"})," Redirecting to ",(0,o.jsxs)("strong",{children:["www.",T.domain]})]}):(0,o.jsxs)("p",{className:"flex items-center gap-1 text-xs text-blue-800 px-2.5 py-0.5 rounded-3xl bg-blue-100",children:[(0,o.jsx)("span",{className:"w-1 h-1 rounded-full bg-blue-400"})," Redirecting to ",(0,o.jsx)("strong",{children:T.domain})]}):(0,o.jsxs)("p",{className:"flex items-center gap-2 text-xs text-gray-800 px-2.5 py-0.5 rounded-3xl bg-gray-100",children:[(0,o.jsx)("span",{className:"w-1 h-1 rounded-full bg-gray-400"})," Disabled"]})]}),(0,o.jsx)("div",{className:"p-4 md:p-6",children:(0,o.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,o.jsx)("div",{children:(null===T||void 0===T?void 0:T.redirect)&&"none"!==(null===T||void 0===T?void 0:T.redirect)?"to-www"===(null===T||void 0===T?void 0:T.redirect)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{className:"text-gray-900 font-medium mb-1",children:"Redirecting to www subdomain"}),(0,o.jsxs)("p",{className:"text-sm text-gray-500",children:["Website is currently redirecting ",(0,o.jsx)("strong",{children:T.domain})," to ",(0,o.jsxs)("strong",{children:["www.",T.domain]})]})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{className:"text-gray-900 font-medium mb-1",children:"Redirecting to root domain"}),(0,o.jsxs)("p",{className:"text-sm text-gray-500",children:["Website is currently redirecting ",(0,o.jsxs)("strong",{children:["www.",T.domain]})," to ",(0,o.jsx)("strong",{children:T.domain})]})]}):(0,o.jsx)("p",{className:"text-gray-900 font-medium mb-1",children:"Website is currently not being redirected"})}),(0,o.jsx)("div",{className:"flex items-center gap-2",children:!me&&(0,o.jsx)("button",{className:"link sm",onClick:function(){return ge(!0)},disabled:E,children:"Change"})})]}),(0,o.jsx)(c.u,{show:me,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,o.jsx)("div",{className:"mt-6",children:(0,o.jsxs)(u.E,{className:"flex flex-col gap-5",value:ce,onChange:ue,children:[(0,o.jsx)(u.E.Option,{value:"none",children:function(e){var t=e.checked;return(0,o.jsxs)("div",{className:(0,p.AK)("flex gap-3 py-3 px-4 bg-white rounded-lg border cursor-pointer transition-all",t?"border-indigo-600 bg-indigo-50":"border-gray-300"),children:[(0,o.jsx)("span",{className:(0,p.AK)("w-4 h-4 mt-1 bg-white border border-gray-200 rounded-full transition-all",t&&"border-4 border-indigo-600")}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:(0,p.AK)("text-sm font-medium",t?"text-indigo-900":"text-gray-900"),children:"Disabled"}),(0,o.jsx)("p",{className:(0,p.AK)("text-sm",t?"text-indigo-700":"text-gray-500"),children:"Website will not be redirected"})]})]})}}),(0,o.jsx)(u.E.Option,{value:"to-root",children:function(e){var t=e.checked;return(0,o.jsxs)("div",{className:(0,p.AK)("flex gap-3 py-3 px-4 bg-white rounded-lg border cursor-pointer transition-all",t?"border-indigo-600 bg-indigo-50":"border-gray-300"),children:[(0,o.jsx)("span",{className:(0,p.AK)("w-4 h-4 mt-1 bg-white border border-gray-200 rounded-full transition-all",t&&"border-4 border-indigo-600")}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:(0,p.AK)("text-sm font-medium",t?"text-indigo-900":"text-gray-900"),children:"Redirect to root domain"}),(0,o.jsxs)("p",{className:(0,p.AK)("text-sm",t?"text-indigo-700":"text-gray-500"),children:["Your website will be redirected from\xa0",(0,o.jsxs)("strong",{children:["www.",T.domain]})," to ",(0,o.jsx)("strong",{children:T.domain})]})]})]})}}),(0,o.jsx)(u.E.Option,{value:"to-www",children:function(e){var t=e.checked;return(0,o.jsxs)("div",{className:(0,p.AK)("flex gap-3 py-3 px-4 bg-white rounded-lg border cursor-pointer transition-all",t?"border-indigo-600 bg-indigo-50":"border-gray-300"),children:[(0,o.jsx)("span",{className:(0,p.AK)("w-4 h-4 mt-1 bg-white border border-gray-200 rounded-full transition-all",t&&"border-4 border-indigo-600")}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:(0,p.AK)("text-sm font-medium",t?"text-indigo-900":"text-gray-900"),children:"Redirect to www subdomain"}),(0,o.jsxs)("p",{className:(0,p.AK)("text-sm",t?"text-indigo-700":"text-gray-500"),children:["Your website will be redirected from\xa0",(0,o.jsx)("strong",{children:T.domain})," to ",(0,o.jsxs)("strong",{children:["www.",T.domain]})]})]})]})}})]})})})]})})]}),(0,o.jsxs)("div",{id:"search-indexing",className:"bg-white rounded-lg shadow mb-5 scroll-offset",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-gray-200",children:[(0,o.jsx)("p",{className:"mb-0 font-bold text-gray-900",children:"Search indexing"}),(null===T||void 0===T?void 0:T.searchIndexing)?(0,o.jsxs)("p",{className:"flex items-center gap-2 text-xs text-green-800 px-2.5 py-0.5 rounded-3xl bg-green-100",children:[(0,o.jsx)("span",{className:"w-1 h-1 rounded-full bg-green-400"})," Enabled"]}):(0,o.jsxs)("p",{className:"flex items-center gap-2 text-xs text-gray-800 px-2.5 py-0.5 rounded-3xl bg-gray-100",children:[(0,o.jsx)("span",{className:"w-1 h-1 rounded-full bg-gray-400"})," Disabled"]})]}),(0,o.jsx)("div",{className:"p-4 md:p-6",children:(0,o.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("p",{className:"text-gray-900 font-medium mb-1",children:["Website is currently ",!(null===T||void 0===T?void 0:T.searchIndexing)&&"not"," being indexed"]}),(0,o.jsxs)("p",{className:"text-sm text-gray-500",children:["Google, Bing and other search tools are ",!(null===T||void 0===T?void 0:T.searchIndexing)&&"not"," indexing your website"]})]}),(0,o.jsx)("div",{className:"flex items-center gap-2",children:!q&&(0,o.jsx)("button",{className:"link sm",onClick:function(){return G(!0)},disabled:E,children:"Change"})})]}),(0,o.jsx)(c.u,{show:q,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,o.jsx)("div",{className:"mt-6",children:(0,o.jsxs)(u.E,{className:"flex flex-col gap-5",value:L,onChange:M,children:[(0,o.jsx)(u.E.Option,{value:!0,children:function(e){var t=e.checked;return(0,o.jsxs)("div",{className:(0,p.AK)("flex gap-3 py-3 px-4 bg-white rounded-lg border cursor-pointer transition-all",t?"border-indigo-600 bg-indigo-50":"border-gray-300"),children:[(0,o.jsx)("span",{className:(0,p.AK)("w-4 h-4 mt-1 bg-white border border-gray-200 rounded-full transition-all",t&&"border-4 border-indigo-600")}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:(0,p.AK)("text-sm font-medium",t?"text-indigo-900":"text-gray-900"),children:"Enabled"}),(0,o.jsx)("p",{className:(0,p.AK)("text-sm",t?"text-indigo-700":"text-gray-500"),children:"All search tools can index your website"})]})]})}}),(0,o.jsx)(u.E.Option,{value:!1,children:function(e){var t=e.checked;return(0,o.jsxs)("div",{className:(0,p.AK)("flex gap-3 py-3 px-4 bg-white rounded-lg border cursor-pointer transition-all",t?"border-indigo-600 bg-indigo-50":"border-gray-300"),children:[(0,o.jsx)("span",{className:(0,p.AK)("w-4 h-4 mt-1 bg-white border border-gray-200 rounded-full transition-all",t&&"border-4 border-indigo-600")}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:(0,p.AK)("text-sm font-medium",t?"text-indigo-900":"text-gray-900"),children:"Disabled"}),(0,o.jsx)("p",{className:(0,p.AK)("text-sm",t?"text-indigo-700":"text-gray-500"),children:"No search tools can index your website"})]})]})}})]})})})]})})]}),(0,o.jsxs)("div",{id:"custom-code",className:"bg-white rounded-lg shadow mb-5 scroll-offset",children:[(0,o.jsx)("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-gray-200",children:(0,o.jsx)("p",{className:"mb-0 font-bold text-gray-900",children:"Custom code"})}),(0,o.jsx)("div",{className:"p-4 md:p-6",children:(0,o.jsxs)("div",{className:"rounded-lg",children:[(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("label",{className:"mb-1",children:"Head Code"}),(0,o.jsxs)("p",{className:"mb-1 text-xs text-gray-500",children:["Add code at the end of the ","<","head",">"," tag:"]}),(0,o.jsx)("textarea",{rows:6,value:null===le||void 0===le?void 0:le.headCode,onChange:function(e){re(!0),oe((function(t){return(0,r.Z)((0,i.Z)({},t),{headCode:e.target.value})}))},placeholder:"active"!==(null===Je||void 0===Je||null===(e=Je.user)||void 0===e?void 0:e.subscriptionStatus)?"Upgrade to add custom code":'<script src="https://example.com/script.js"/>',readOnly:"active"!==(null===Je||void 0===Je||null===(t=Je.user)||void 0===t?void 0:t.subscriptionStatus)}),(0,o.jsxs)("div",{className:"flex items-center gap-3 p-4 mt-2 bg-yellow-50",children:[(0,o.jsx)(f.Z,{icon:"ExclamationIcon",className:"h-4 w-4 text-yellow-400"}),(0,o.jsx)("p",{className:"text-yellow-700 text-xs",children:"Durable doesn't validate custom code for you, be sure to check your code before saving."})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"mb-1",children:"Footer Code"}),(0,o.jsxs)("p",{className:"mb-1 text-xs text-gray-500",children:["Add code before ","<","body",">"," tag:"]}),(0,o.jsx)("textarea",{rows:6,value:null===le||void 0===le?void 0:le.footerCode,onChange:function(e){re(!0),oe((function(t){return(0,r.Z)((0,i.Z)({},t),{footerCode:e.target.value})}))},placeholder:"active"!==(null===Je||void 0===Je||null===(s=Je.user)||void 0===s?void 0:s.subscriptionStatus)?"Upgrade to add custom code":'<script src="https://example.com/script.js"/>',readOnly:"active"!==(null===Je||void 0===Je||null===(S=Je.user)||void 0===S?void 0:S.subscriptionStatus)}),(0,o.jsxs)("div",{className:"flex items-center gap-3 p-4 mt-2 bg-yellow-50",children:[(0,o.jsx)(f.Z,{icon:"ExclamationIcon",className:"h-4 w-4 text-yellow-400"}),(0,o.jsx)("p",{className:"text-yellow-700 text-xs",children:"Durable doesn't validate custom code for you, be sure to check your code before saving."})]})]})]})})]}),(0,o.jsxs)("div",{id:"wipe-cache",className:"bg-white rounded-lg shadow mb-5 scroll-offset",children:[(0,o.jsx)("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-gray-200",children:(0,o.jsx)("p",{className:"mb-0 font-bold text-gray-900",children:"Cache"})}),(0,o.jsx)("div",{className:"p-4 md:p-6",children:(0,o.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,o.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-gray-900 font-medium mb-1",children:"Website cache"}),(0,o.jsx)("p",{className:"text-sm text-gray-500",children:"Wipe your website cache if you don't see recent changes."})]}),(0,o.jsx)("div",{className:"flex-shrink-0",children:(0,o.jsx)(N.Z,{loading:E,onClick:function(){return $e()},className:"sm link",children:"Wipe cache"})})]})})})]}),(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow mb-5 scroll-offset",children:[(0,o.jsx)("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-gray-200",children:(0,o.jsx)("p",{className:"mb-0 font-bold text-gray-900",children:"Regenerate"})}),(0,o.jsx)("div",{className:"p-4 md:p-6",children:(0,o.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,o.jsxs)("div",{className:"flex flex-row flex-wrap items-center justify-between gap-3",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-gray-900 font-medium mb-1",children:"Start over with your website"}),(0,o.jsxs)("p",{className:"flex flex-row flex-nowrap justify-start items-center gap-3",children:[(0,o.jsx)(f.Z,{icon:"ExclamationIcon",className:"text-red-800 w-5 h-5"}),(0,o.jsx)("p",{className:"text-sm text-red-800",children:"Regenerate your entire site, optionally with new business details"})]})]}),(0,o.jsx)("div",{className:"flex-shrink-0 ml-auto",children:(0,o.jsx)("button",{className:"sm link !text-red-800",onClick:function(){Ee("app:website-settings-regenerate"),Ke(!0)},children:"Regenerate Website"})})]})})})]})]})]}),(0,o.jsx)(Te,{attention:!0,confirmText:"Disable"}),Ae&&(0,o.jsx)(_.Z,{open:Ae,setOpen:Ke})]})}S.auth=!0},72521:function(e,t,s){"use strict";s.d(t,{RS:function(){return d},cy:function(){return o},m2:function(){return u},n3:function(){return l},xk:function(){return a}});var n=s(47568),i=s(97582),r=s(3732);function a(e){var t,s,n,i,r,a,l,o,d,c,u;return"Custom"===(null===e||void 0===e||null===(t=e.type)||void 0===t||null===(s=t.Type)||void 0===s?void 0:s.name)||"Other"===(null===e||void 0===e||null===(n=e.type)||void 0===n||null===(i=n.Type)||void 0===i?void 0:i.name)?null!==(d=null===e||void 0===e||null===(o=e.type)||void 0===o?void 0:o.name)&&void 0!==d?d:"":null!==(u=null!==(c=null===e||void 0===e||null===(r=e.type)||void 0===r||null===(a=r.Type)||void 0===a?void 0:a.name)&&void 0!==c?c:null===e||void 0===e||null===(l=e.type)||void 0===l?void 0:l.name)&&void 0!==u?u:""}function l(e){var t,s,n;return null!==(n=null===(s=null===e||void 0===e||null===(t=e.categories)||void 0===t?void 0:t.sort((function(e,t){return t.score-e.score}))[0])||void 0===s?void 0:s.category)&&void 0!==n?n:""}function o(e){var t,s,n,i=null===e||void 0===e||null===(t=e.categories)||void 0===t?void 0:t.sort((function(e,t){return t.score-e.score}))[0];return i&&"Other"!==(null===i||void 0===i?void 0:i.category)&&null!==(n=null===i||void 0===i||null===(s=i.subcategories)||void 0===s?void 0:s[0])&&void 0!==n?n:""}function d(e,t){return c.apply(this,arguments)}function c(){return(c=(0,n.Z)((function(e,t){var s,n;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return s=[{category:"Other",subcategories:[t]}],[4,e("/business/identify-categories",{vertical:t})];case 1:return(n=i.sent())&&!0===n.status&&n.content&&(s=n.content),(0,r.d8)("mars-category",l({categories:s})),(0,r.d8)("mars-subcategory",o({categories:s})),[2,s]}}))}))).apply(this,arguments)}function u(e,t){return x.apply(this,arguments)}function x(){return(x=(0,n.Z)((function(e,t){var s;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return[4,e("/business/summarize-vertical",{vertical:t})];case 1:return(s=n.sent())&&!0===s.status&&s.content?[2,{imageQuery:s.content.image,llmQuery:s.content.llm}]:[2,{imageQuery:"",llmQuery:""}]}}))}))).apply(this,arguments)}}},function(e){e.O(0,[2295,9774,2888,179],(function(){return t=46360,e(e.s=t);var t}));var t=e.O();_N_E=t}]);