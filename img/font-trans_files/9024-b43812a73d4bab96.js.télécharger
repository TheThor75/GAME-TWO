"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9024],{64955:function(e,n,l){l.d(n,{Z:function(){return a}});var t=l(85893);l(67294);function a(e){var n=e.text,l=e.className,a=void 0===l?"":l,s=e.color,i=void 0===s?"blue":s,o=e.display,r=void 0===o?"inline-block":o,c=e.withDot,d=void 0!==c&&c;return n?(0,t.jsxs)("div",{className:"".concat(r," badge bg-").concat(i,"-100 ").concat(a),children:[d&&(0,t.jsx)("span",{className:"badge bg-".concat(i,"-400")}),(0,t.jsx)("span",{className:"text-".concat(i,"-800"),children:n})]}):null}},46902:function(e,n,l){var t=l(85893),a=l(3732),s=l(18362),i=l(11163);n.Z=function(e){var n=e.onAction,l=e.onClose,o=e.visible,r=(0,i.useRouter)();return(0,t.jsx)(s.Z,{visible:o,context:{context:"custom_domain",page:r.pathname},image:(0,a.sd)("paywalls/pw-upgrade-domain-pro-bg.png"),title:"Upgrade to customize your domain",description:"A professional domain helps you convert more leads to customers. Upgrade your account and get a free custom domain included with your plan.",buttonTitle:"View Plans",buttonAction:n,featTitle:"Upgrade to premium and also get:",features:["More website pages","Premium website features","CRM and automation tools","Invoices and payment tracking"],bgColor:"bg-gray-900",closeColor:"text-white",onClose:function(){l()}})}},86383:function(e,n,l){l.d(n,{Z:function(){return f}});var t=l(14924),a=l(26042),s=l(69396),i=l(85893),o=l(67294),r=l(11355),c=l(40410),d=l(51121),u=l(3732),m=l(80360);function f(e){var n,l,f=e.contactDetails,x=e.setContactDetails,v=e.setValidForm,p=e.locations,h=e.show,g=(0,o.useRef)(null),y=(0,o.useState)({}),j=y[0],N=y[1],w=function(e){var n=null===e||void 0===e?void 0:e.match(/[^\x00-\x7F]/g,"");return!((null===n||void 0===n?void 0:n.length)>0)};return(0,o.useEffect)((function(){if(N({}),f){var e=Object.keys(f);v(!0);var n=!0,l=!1,i=void 0;try{for(var o,r=e[Symbol.iterator]();!(n=(o=r.next()).done);n=!0){var d=o.value;if("address2"!==d&&"durableAsContact"!==d&&(!f[d]||""===f[d]))return N((0,s.Z)((0,a.Z)({},j),(0,t.Z)({},d,!0))),void v(!1)}}catch(m){l=!0,i=m}finally{try{n||null==r.return||r.return()}finally{if(l)throw i}}if((0,c.UL)(null===f||void 0===f?void 0:f.country.toUpperCase())&&!(0,c.OS)(null===f||void 0===f?void 0:f.postalCode,null===f||void 0===f?void 0:f.country.toUpperCase())&&(N((0,s.Z)((0,a.Z)({},j),{postalCode:"Invalid postal code"})),v(!1)),!w(null===f||void 0===f?void 0:f.firstName)||!w(null===f||void 0===f?void 0:f.lastName))return void v(!1);(0,u.oH)(null===f||void 0===f?void 0:f.email)||v(!1)}}),[f]),(0,o.useEffect)((function(){setTimeout((function(){g.current&&g.current.focus()}),300)}),[]),(0,i.jsx)(r.u,{as:o.Fragment,show:h,appear:!0,enter:"transition-all duration-600",enterFrom:"opacity-0 -translate-y-10",enterTo:"opacity-100 translate-y-0",leave:"transition-all duration-600",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-10",children:(0,i.jsxs)("div",{className:"flex flex-col gap-4 pb-2",children:[f.country,(0,i.jsxs)("div",{className:"flex flex-row flex-wrap gap-4 ",children:[(0,i.jsxs)("div",{className:"flex flex-col md:flex-row w-full justify-between gap-2",children:[(0,i.jsx)(d.Z,{className:"flex-1",ref:g,error:!w(null===f||void 0===f?void 0:f.firstName)&&"Invalid special character",onChange:function(e){return x((0,s.Z)((0,a.Z)({},f),{firstName:e}))},value:(null===f||void 0===f?void 0:f.firstName)||"",label:"First name",placeholder:"First name"}),(0,i.jsx)(d.Z,{className:"flex-1",error:!w(null===f||void 0===f?void 0:f.lastName)&&"Invalid special character",onChange:function(e){return x((0,s.Z)((0,a.Z)({},f),{lastName:e}))},value:(null===f||void 0===f?void 0:f.lastName)||"",label:"Last name",placeholder:"Last name"})]}),(0,i.jsxs)("div",{className:"flex flex-col md:flex-row w-full justify-between gap-2",children:[(0,i.jsx)(d.Z,{className:"flex-1",error:!(0,u.oH)(null===f||void 0===f?void 0:f.email)&&"Invalid email",onChange:function(e){return x((0,s.Z)((0,a.Z)({},f),{email:e}))},value:(null===f||void 0===f?void 0:f.email)||"",label:"Email",placeholder:"Email"}),(0,i.jsxs)("div",{className:"flex-1 flex flex-col md:flex-row gap-2",children:[(0,i.jsx)(m.Z,{className:"w-full md:w-1/2",value:p.find((function(e){var n,l;return(null===(n=e.code)||void 0===n?void 0:n.toUpperCase())===(null===f||void 0===f||null===(l=f.countryPhoneCode)||void 0===l?void 0:l.toUpperCase())})),onChange:function(e){return x((0,s.Z)((0,a.Z)({},f),{countryPhoneCode:e.code}))},values:p||[],label:"Code",hasFilter:!0}),(0,i.jsx)(d.Z,{type:"text",onChange:function(e){return x((0,s.Z)((0,a.Z)({},f),{phoneNumber:e.replace(/[^0-9 ]/g,"")}))},value:(null===f||void 0===f||null===(n=f.phoneNumber)||void 0===n?void 0:n.replace(/[^a-zA-Z0-9 ]/g,""))||"",label:"Phone number",placeholder:"Phone number"})]})]})]}),(0,i.jsxs)("div",{className:"flex flex-row flex-wrap gap-4 ",children:[(0,i.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:"Address"}),(0,i.jsxs)("div",{className:"flex flex-col md:flex-row w-full justify-between gap-2",children:[(0,i.jsx)(d.Z,{className:"flex-1",onChange:function(e){return x((0,s.Z)((0,a.Z)({},f),{address1:e}))},value:(null===f||void 0===f?void 0:f.address1)||"",label:"Address line 1",placeholder:"Address line 1"}),(0,i.jsx)(d.Z,{className:"flex-1",onChange:function(e){return x((0,s.Z)((0,a.Z)({},f),{address2:e}))},value:(null===f||void 0===f?void 0:f.address2)||"",label:"Address line 2",placeholder:"Address line 2"})]}),(0,i.jsxs)("div",{className:"flex flex-col md:flex-row w-full justify-between gap-2",children:[(0,i.jsx)(m.Z,{className:"flex-1",value:u.hW.find((function(e){var n;return e.code===(null===f||void 0===f||null===(n=f.country)||void 0===n?void 0:n.toUpperCase())})),onChange:function(e){x((0,s.Z)((0,a.Z)({},f),{country:e.code}))},values:u.hW,label:"Country",hasFilter:!0}),(0,i.jsx)(d.Z,{className:"flex-1",size:2,onChange:function(e){return x((0,s.Z)((0,a.Z)({},f),{state:e}))},value:(null===f||void 0===f?void 0:f.state)||"",label:"".concat("ca"===(null===f||void 0===f||null===(l=f.country)||void 0===l?void 0:l.toLowerCase())?"Province":"State"," (eg: TX, BC)"),placeholder:"State"})]}),(0,i.jsxs)("div",{className:"flex flex-col md:flex-row w-full justify-between gap-2",children:[(0,i.jsx)(d.Z,{className:"flex-1",onChange:function(e){return x((0,s.Z)((0,a.Z)({},f),{city:e}))},value:(null===f||void 0===f?void 0:f.city)||"",label:"City",placeholder:"City"}),(0,i.jsx)(d.Z,{className:"flex-1",onChange:function(e){return x((0,s.Z)((0,a.Z)({},f),{postalCode:e}))},value:(null===f||void 0===f?void 0:f.postalCode)||"",label:"Postal code",placeholder:"Postal code",error:(null===j||void 0===j?void 0:j.postalCode)&&(null===j||void 0===j?void 0:j.postalCode)})]})]})]})})}},63553:function(e,n,l){l.d(n,{Z:function(){return k}});var t=l(47568),a=l(26042),s=l(69396),i=l(10253),o=l(97582),r=l(85893),c=l(11355),d=l(37882),u=l(67294),m=(l(41664),l(33299)),f=l(26713),x=l(25675),v=l.n(x),p=l(3732),h=l(86998),g=l(27599),y=l(86383),j=l(4519),N=l(52077),w=l(11163),b=l(4156),Z=l(55669),C=l(40735),S=l(61437);function k(e){var n,l,x,k=e.open,F=e.setOpen,T=e.domain,A=e.refresh,_=e.showSuggestion,D=(0,j.Z)(),I=D.get,E=D.post,P=(0,m.useSession)().data,R=(0,w.useRouter)(),U=(0,u.useState)({}),L=U[0],O=U[1],z=(0,u.useState)(!0),K=z[0],G=z[1],B=(0,u.useState)([]),V=B[0],M=B[1],q=(0,u.useState)(""),Y=(q[0],q[1],(0,u.useState)(null)),W=Y[0],X=(Y[1],(null===P||void 0===P||null===(n=P.user)||void 0===n||null===(l=n.plan)||void 0===l||null===(x=l.limits)||void 0===x?void 0:x.customDomain)||0),$=(0,u.useState)(!0),H=$[0],J=$[1],Q=(0,u.useState)(_?"suggestion":"purchase"),ee=Q[0],ne=Q[1],le=(0,u.useState)(!1),te=le[0],ae=le[1],se=(0,u.useState)(!1),ie=se[0],oe=se[1],re=(0,u.useState)(T),ce=re[0],de=re[1],ue=(0,u.useState)(!1),me=ue[0],fe=ue[1],xe=(0,u.useState)(!1),ve=xe[0],pe=xe[1],he=(0,i.Z)((0,S.Z)("support.modal",!1),2)[1],ge=function(){var e=(0,t.Z)((function(e){var n,l;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return ae(!0),[4,E("/custom-domain/register",{domain:e,extraInformation:null,registrant:!1!==H?null:L})];case 1:return(n=t.sent())&&!0===n.status?(p.Z9.success("Domain registered successfully!"),ne("result")):(null===n||void 0===n?void 0:n.refresh)?(p.Z9.error(null!==(l=null===n||void 0===n?void 0:n.message)&&void 0!==l?l:"Domain not available"),setTimeout((function(){R.reload()}),2e3)):p.Z9.error((null===n||void 0===n?void 0:n.message)||"Something went wrong, please try again later."),ae(!1),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),ye=(function(){var e=(0,t.Z)((function(){var e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return ae(!0),[4,E("custom-domain/pre-register",{domain:null===ce||void 0===ce?void 0:ce.domain,price:null===ce||void 0===ce?void 0:ce.price,contact:!1!==H?null:L,paymentId:W,extraInformation:null})];case 1:return(e=n.sent())&&!0===e.status?(p.Z9.success("Domain registration process was started!"),F(!1)):p.Z9.error((null===e||void 0===e?void 0:e.message)||"Something went wrong, please try again later."),ae(!1),[2]}}))}))}(),function(){var e=(0,t.Z)((function(e){var n,l,t;return(0,o.__generator)(this,(function(a){switch(a.label){case 0:return n=e.id,l=e.amount,[4,E("custom-domain/ack-payment",{domain:null===ce||void 0===ce?void 0:ce.domain,paymentId:n,amount:l})];case 1:return(t=a.sent())&&!0===t.status&&(fe(!0),ge(null===ce||void 0===ce?void 0:ce.domain)),[2]}}))}));return function(n){return e.apply(this,arguments)}}()),je=function(){var e=(0,t.Z)((function(){return(0,o.__generator)(this,(function(e){return(null===ce||void 0===ce?void 0:ce.price)>X?(ae(!0),oe(!0)):ge(null===ce||void 0===ce?void 0:ce.domain),[2]}))}));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=(0,t.Z)((function(){var e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return[4,I("/custom-domain/contact-details")];case 1:return!0===(null===(e=n.sent())||void 0===e?void 0:e.status)&&(null===e||void 0===e?void 0:e.content)&&O((0,s.Z)((0,a.Z)({},e.content),{countryPhoneCode:e.content.country})),[2]}}))}));return function(){return e.apply(this,arguments)}}(),we=function(){var e=(0,t.Z)((function(){var e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return[4,I("/custom-domain/locations")];case 1:return!0===(null===(e=n.sent())||void 0===e?void 0:e.status)&&(null===e||void 0===e?void 0:e.content)&&M(e.content),[2]}}))}));return function(){return e.apply(this,arguments)}}(),be=function(){var e,n,l,t=(null===P||void 0===P||null===(e=P.user)||void 0===e||null===(n=e.plan)||void 0===n||null===(l=n.limits)||void 0===l?void 0:l.customDomain)||0;return(null===ce||void 0===ce?void 0:ce.price)-t};return(0,u.useEffect)((function(){k&&(Ne(),we())}),[k]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(c.u.Root,{show:k,as:u.Fragment,children:(0,r.jsx)(d.V,{static:!0,open:k&&!ve,as:"div",className:"fixed z-100 md:inset-0 w-full h-full overflow-hidden bottom-0",onClose:function(){return console.log("")},children:(0,r.jsxs)("div",{className:"flex items-end justify-center text-center md:block",children:[(0,r.jsx)(c.u.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)(d.V.Overlay,{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity"})}),(0,r.jsx)("span",{className:"hidden md:inline-block md:align-middle md:h-screen","aria-hidden":"true",children:"\u200b"}),(0,r.jsx)(c.u.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",enterTo:"opacity-100 translate-y-0 md:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 md:scale-100",leaveTo:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",children:(0,r.jsx)("div",{className:"px-4 md:px-18 inline-block align-middle w-full bg-white text-left shadow-xl transform transition-all",children:(0,r.jsxs)("div",{className:"flex flex-col h-dyn overflow-y-hidden pt-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between md:py-5 md:px-6",children:[(0,r.jsx)("div",{className:"relative w-10 h-10",children:(0,r.jsx)(v(),{src:(0,p.sd)("durable-icon-primary.svg"),layout:"fill",objectFit:"fill",alt:"Sorry, unexpected error"})}),"result"!==ee&&(0,r.jsx)("button",{type:"button",className:"bg-white rounded-md text-gray-600 transition-all hover:text-gray-400 focus:border-1 focus:ring-indigo-500 focus:border-indigo-500",onClick:function(){return F(!1)},children:(0,r.jsx)(f.Z,{icon:"XSolidIcon",className:"h-6 w-6","aria-hidden":"true"})})]}),(0,r.jsxs)("div",{className:"flex justify-center flex-1 overflow-y-hidden",children:["suggestion"===ee&&(0,r.jsxs)("div",{className:"md:pr-6 w-full md:w-170",children:[(0,r.jsx)(C.Z,{className:"my-6",variant:"warn",icon:"BellIcon",title:"Scheduled maintenance",text:(0,r.jsxs)("span",{children:["Domain registration and DNS updates might be interrupted due to Nov 01-02 maintenance. Please ",(0,r.jsx)("a",{className:"underline cursor-pointer",onClick:function(){return he(!0)},children:"contact support"})," if you need assistance."]})}),(0,r.jsx)(b.Z,{seeMoreSteps:10,externalDomainSelectionAction:function(e){return function(e){de(e),ne("purchase")}(e)},onAction:function(){},fullheight:!0,refresh:function(){},onPaywall:function(){return pe(!0)}})]}),"purchase"===ee&&(0,r.jsx)(c.u,{as:u.Fragment,show:"purchase"===ee,appear:!0,enter:"transition-all duration-600",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-all duration-600",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)("div",{className:"bg-white w-full md:w-170 pb-4 mt-2 lg:pb-6 overflow-y-hidden flex flex-col gap-6",children:(0,r.jsxs)("div",{className:"flex flex-col justify-between overflow-y-hidden ",children:[(0,r.jsxs)("div",{className:"flex flex-col pr-4 lg:pr-6",children:[(0,r.jsx)("p",{className:"text-2xl font-bold",children:"Get your domain"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Add contact details to get your domain"})]}),(0,r.jsx)(C.Z,{className:"mt-6",variant:"warn",icon:"BellIcon",title:"Scheduled maintenance",text:(0,r.jsxs)("span",{children:["Domain registration and DNS updates might be interrupted due to Nov 01-02 maintenance. Please ",(0,r.jsx)("a",{className:"underline cursor-pointer",onClick:function(){return he(!0)},children:"contact support"})," if you need assistance."]})}),(0,r.jsxs)("div",{className:"flex justify-between mt-4 pr-4 lg:pr-6",children:[(0,r.jsx)("p",{className:"text-sm font-semibold",children:null===ce||void 0===ce?void 0:ce.domain}),(0,r.jsx)("p",{className:"flex gap-2 text-sm",children:function(e){var n,l,t,a,s,i=(null===P||void 0===P||null===(n=P.user)||void 0===n||null===(l=n.plan)||void 0===l||null===(t=l.limits)||void 0===t?void 0:t.customDomain)||0;if("free"!==(null===P||void 0===P||null===(a=P.user)||void 0===a||null===(s=a.plan)||void 0===s?void 0:s.priceId))return e>i?(0,r.jsx)("span",{className:"text-gray-900 font-semibold",children:(0,h.T)(be())}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("span",{className:"text-gray-400 line-through",children:[(0,h.T)(null===ce||void 0===ce?void 0:ce.price)," / Year"]}),(0,r.jsx)("span",{className:"text-gray-900 font-medium",children:"FREE"})]})}(null===ce||void 0===ce?void 0:ce.price)})]}),(0,r.jsx)("div",{className:"my-4 border-b-1 pr-4 lg:pr-6"}),(0,r.jsx)("div",{className:"overflow-y-scroll !p-0 main-scrollbar overflow-x-hidden flex-1",children:(0,r.jsxs)("div",{className:"pr-4 lg:pr-6",children:[(0,r.jsxs)("div",{className:"flex mb-4 items-center p-4 gap-4 bg-blue-50 rounded-xl px-4 lg:px-6",children:[(0,r.jsx)(f.Z,{icon:"InformationCircleSolidIcon",className:"h-5 w-5 flex-shrink-0 text-blue-800"}),(0,r.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"This domain may take a few minutes to several hours to activate."})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("p",{className:"font-semibold",children:"Contact details"}),(0,r.jsxs)("div",{className:"flex justify-between items-center gap-4 mt-4",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:"Easy setup"}),(0,r.jsx)("p",{className:"text-sm",children:"You still own the domain but it will be registered under Durable\u2019s name"})]}),(0,r.jsx)(g.Z,{enabled:H,onChange:function(e){return J(e)}})]})]}),!H&&(0,r.jsx)(y.Z,{contactDetails:L,setContactDetails:O,setValidForm:G,domain:null===ce||void 0===ce?void 0:ce.domain,locations:V,show:!H}),(null===ce||void 0===ce?void 0:ce.price)>X&&!me&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"border-t w-full py-2"}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 pb-6",children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:"Payment method"}),(0,r.jsx)("p",{className:"text-lg font-medium",children:(0,h.T)(be())}),(0,r.jsx)(Z.Z,{amount:(null===ce||void 0===ce?void 0:ce.price)-X,metadata:null===ce||void 0===ce?void 0:ce.domain,loading:te,submit:ie,disabled:K,onSuccess:function(e){ye(e)},onFailure:function(){ae(!1),oe(null)}})]})]})]})})]})})}),"result"===ee&&(0,r.jsx)(c.u,{as:u.Fragment,show:"result"===ee,appear:!0,enter:"transition-all duration-600",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-all duration-600",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)("div",{className:"flex flex-1 items-center justify-center w-full h-full",children:(0,r.jsxs)("div",{className:"flex flex-col w-full md:w-170 items-center",children:[(0,r.jsx)("div",{className:"relative w-full h-60 flex flex-row justify-center items-center min-h-30",children:(0,r.jsx)(v(),{src:(0,p.sd)("domain/ilustration-domain-success.png"),alt:"Add service",title:"Add service",width:680,height:272})}),(0,r.jsxs)("div",{className:"w-full md:w-140 flex flex-col items-center",children:[(0,r.jsxs)("p",{className:"text-2xl font-bold text-black mt-8 text-center",children:[null===ce||void 0===ce?void 0:ce.domain," is now yours!"]}),(0,r.jsx)("p",{className:"text-gray-900 mt-3 text-center",children:"This domain name will be what customers see when visiting your website."}),(0,r.jsxs)("div",{className:"flex gap-3 bg-yellow-50 p-4 text-yellow-800 mt-5",children:[(0,r.jsx)(f.Z,{icon:"ExclamationTriangleIcon",className:"text-yellow-600 h-5 w-5 flex-shrink-0"}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:"Because of how the internet works, domain setup can take a few hours. In rare cases, up to 48 hours."}),(0,r.jsx)("p",{className:"text-sm",children:"We\u2019ll send you an email when your domain is ready."})]})]})]})]})})})]}),("purchase"===ee||"result"===ee)&&(0,r.jsxs)("div",{className:"sticky left-0 right-0 bottom-0 z-50 flex items-center py-4 px-4 md:px-18 w-full border-t ",children:["purchase"===ee&&(0,r.jsxs)("div",{className:"flex flex-1 justify-between",children:[(0,r.jsxs)(N.Z,{className:"light flex gap-2",disabled:te,onClick:function(){return"purchase"===ee?F(!1):ne("purchase")},children:[(0,r.jsx)(f.Z,{icon:"ArrowLeftSolidIcon",className:"h-4 w-4 flex-shrink-0 text-gray-500"}),"Back"]}),(0,r.jsx)(N.Z,{disabled:!H&&!K,loading:te,onClick:je,className:"primary",children:"Get domain"})]})," ","result"===ee&&(0,r.jsx)("div",{className:"flex flex-1 justify-end",children:(0,r.jsx)(N.Z,{onClick:function(){A(),F(!1)},className:"primary",children:"Done"})})]})]})})})]})})})})}},4156:function(e,n,l){var t,a=l(47568),s=l(10253),i=l(29815),o=l(97582),r=l(85893),c=l(67294),d=l(33299),u=l(61437),m=l(11163),f=l(86998),x=l(51121),v=(l(64955),l(41664)),p=l.n(v),h=l(63553),g=l(46902),y=(l(40735),l(16494)),j=l(26713),N=l(3732),w=l(52077),b=l(4519),Z=l(43714);n.Z=function(e){e.className;var n,l,v,C,S,k,F,T,A,_,D=e.seeMoreSteps,I=(e.setOpenGetDomainDrawer,e.onAction,e.refresh),E=e.externalDomainSelectionAction,P=e.onPaywall,R=e.fullheight,U=void 0!==R&&R,L=(e.trackEvent,e.disableSeeMore),O=void 0!==L&&L,z=e.fromBuilder,K=void 0!==z&&z,G=(0,s.Z)((0,u.Z)("layout.paywall",!1),2),B=(G[0],G[1]),V=(0,c.useState)(!1),M=V[0],q=V[1],Y=(0,d.useSession)().data,W=(0,m.useRouter)(),X=(0,c.useState)([]),$=X[0],H=X[1],J=(0,c.useState)([]),Q=J[0],ee=J[1],ne=(0,c.useState)(null),le=(ne[0],ne[1],(0,c.useState)(!1)),te=le[0],ae=le[1],se=(0,c.useState)(null!==(_=null===Y||void 0===Y||null===(n=Y.business)||void 0===n?void 0:n.name)&&void 0!==_?_:null),ie=se[0],oe=se[1],re=(0,c.useState)(null),ce=re[0],de=re[1],ue=(0,c.useState)(null),me=ue[0],fe=ue[1],xe=(0,c.useState)(!1),ve=xe[0],pe=xe[1],he=(0,Z.Z)().track,ge=(0,b.Z)().get,ye=(0,c.useRef)(),je=function(){var e=(0,a.Z)((function(){return(0,o.__generator)(this,(function(e){return ee([]),ge("/custom-domain/suggestion",{term:ie}).then((function(e){e&&!0===e.status&&e.content&&ee(e.content)})),[2]}))}));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=(0,a.Z)((function(e){var n;return(0,o.__generator)(this,(function(l){switch(l.label){case 0:return[4,ge("/custom-domain/check-domain",{domain:e})];case 1:return(n=l.sent())&&!0===n.status&&n.content?"available"===n.content.status.toLowerCase()?[2,!0]:[2,!1]:[2]}}))}));return function(n){return e.apply(this,arguments)}}(),we=function(){H((function(e){return(0,i.Z)(e).concat((0,i.Z)(Q.slice(e.length,(null===e||void 0===e?void 0:e.length)+D)))})),setTimeout((function(){var e;null===(e=ye.current)||void 0===e||e.scrollTo(0,9999999)}),300)},be=function(){var e=(0,a.Z)((function(){var e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return pe(!0),H([]),ee([]),[4,ge("/custom-domain/check-domain",{domain:ie})];case 1:return(e=n.sent())&&!0===e.status&&e.content&&(Se(ie)&&fe(e.content),je()),pe(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}(),Ze=function(e,n){var l,t;return(0,r.jsxs)("div",{className:(0,N.AK)("gap-2",(null===e||void 0===e||null===(l=e.status)||void 0===l||l.toLowerCase(),""),"flex items-center justify-between py-3"),children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-1 md:gap-4",children:[(0,r.jsx)("div",{className:"flex gap-2 md:gap-4",children:(0,r.jsx)("p",{className:"text-gray-900 text-sm font-semibold break-all",children:e.domain})}),(0,r.jsx)("div",{className:"flex gap-2 items-center",children:(0,r.jsx)("p",{className:"flex md:hidden",children:Ce(e.price)})})]}),"available"===(null===e||void 0===e||null===(t=e.status)||void 0===t?void 0:t.toLowerCase())?(0,r.jsxs)("div",{className:"flex flex-wrap flex-shrink-0 gap-4 items-center",children:[(0,r.jsx)("p",{className:"hidden md:flex font-semibold text-gray-900",children:Ce(e.price)}),(0,r.jsx)(w.Z,{className:"light lg flex-shrink-0",disabled:te,onClick:function(){var n,l,t,a;he("app:custom-domain-get-it",{domain:e,plan:null===Y||void 0===Y||null===(n=Y.user)||void 0===n||null===(l=n.plan)||void 0===l?void 0:l.name}),"free"===(null===Y||void 0===Y||null===(t=Y.user)||void 0===t||null===(a=t.plan)||void 0===a?void 0:a.priceId)?K?P("publish"):("function"===typeof P&&P(!0),B(!0),he("account:paywall-click",{context:"custom_domain_get_it",page:null===W||void 0===W?void 0:W.pathname})):(ae(!0),Ne(e.domain).then((function(n){n?E?E(e):de(e):N.Z9.error("Sorry, the domain ".concat(e.domain," is not available anymore. Please try another domain.")),ae(!1)})))},children:" Get it"})]}):(0,r.jsx)("div",{className:"flex flex-wrap flex-shrink-0 gap-4 items-center",children:(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Unavailable"})})]},"custom-domain-".concat(n))},Ce=function(e){var n,l,t,a,s,i=(null===Y||void 0===Y||null===(n=Y.user)||void 0===n||null===(l=n.plan)||void 0===l||null===(t=l.limits)||void 0===t?void 0:t.customDomain)||0;if("free"!==(null===Y||void 0===Y||null===(a=Y.user)||void 0===a||null===(s=a.plan)||void 0===s?void 0:s.priceId))return e>i?(0,r.jsxs)("p",{className:"text-sm font-semibold",children:[(0,f.T)(e-i)," / Year"]}):(0,r.jsxs)("p",{className:"text-sm",children:[(0,r.jsxs)("span",{className:"text-gray-400 line-through",children:[(0,f.T)(e)," ",(0,r.jsx)("span",{className:"text-gray-400 font-medium",children:"/ Year"})]}),"\xa0\xa0",(0,r.jsx)("span",{className:"text-gray-900 font-medium",children:"FREE"})]})};(0,c.useEffect)((function(){Q.length>0&&0===(null===$||void 0===$?void 0:$.length)&&we()}),[Q]);var Se=function(e){return/^[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/gm.test(e)&&/^[A-Za-z0-9]/gm.test(e)};return(0,c.useEffect)((function(){je()}),[]),(0,c.useEffect)((function(){return clearTimeout(t),t=setTimeout((function(){var e;""!==ie&&ie!==(null===Y||void 0===Y||null===(e=Y.business)||void 0===e?void 0:e.name)&&be()}),1e3),function(){clearTimeout(t)}}),[ie]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:(0,N.AK)("flex flex-col h-full w-full md:w-auto",U?"pb-20":""),children:[K?(0,r.jsxs)("div",{className:"flex flex-col gap-2 mb-4 pr-2 md:pr-6",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between gap-2",children:[(0,r.jsx)("p",{className:"font-semibold text-sm text-gray-900",children:"Get a custom domain"}),(0,r.jsx)(p(),{href:"https://help.durable.co/en/articles/8482634-domain-policy-faqs/",children:(0,r.jsxs)("a",{className:"max-w-[130px] flex gap-1 items-center text-sm font-medium text-indigo-700 ",target:"_blank",rel:"noreferrer",children:["Domain policy ",(0,r.jsx)(j.Z,{icon:"ArrowTopRightOnSquareIcon",className:"w-4 h-4 text-indigo-600"})]})})]}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Find the perfect domain name for your business."})]}):(0,r.jsxs)("div",{className:(0,N.AK)("mb-6 pr-2 md:pr-6"),children:[(0,r.jsxs)("div",{className:"flex justify-between gap-2 items-center",children:[(0,r.jsx)("p",{className:"font-semibold text-gray-900",children:"Get a domain name"}),"free"===(null===Y||void 0===Y||null===(l=Y.user)||void 0===l||null===(v=l.plan)||void 0===v?void 0:v.priceId)&&(0,r.jsx)("span",{className:"badge bg-yellow-100 text-yellow-800",children:"PRO"})]}),0!==(null===Y||void 0===Y||null===(C=Y.user)||void 0===C||null===(S=C.plan)||void 0===S||null===(k=S.limits)||void 0===k?void 0:k.customDomain)&&(0,r.jsx)("div",{className:"flex justify-between gap-2 mt-1 mb-4",children:(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:["Get a domain FREE\u2014up to $",(null===Y||void 0===Y||null===(F=Y.user)||void 0===F||null===(T=F.plan)||void 0===T||null===(A=T.limits)||void 0===A?void 0:A.customDomain)||0,"!"]})}),(0,r.jsx)(p(),{href:"https://help.durable.co/en/articles/8482634-domain-policy-faqs/",children:(0,r.jsxs)("a",{className:"max-w-[130px] flex gap-1 items-center text-sm font-medium text-indigo-700 ",target:"_blank",rel:"noreferrer",children:["Domain policy ",(0,r.jsx)(j.Z,{icon:"ArrowTopRightOnSquareIcon",className:"w-4 h-4 text-indigo-600"})]})})]}),(0,r.jsxs)("div",{className:(0,N.AK)("relative w-full  mb-4 pr-2 md:pr-6"),children:[(0,r.jsx)("span",{className:"absolute top-0 z-10 pl-2.5 py-2",children:(0,r.jsx)(j.Z,{icon:"SearchIcon",className:"w-5 h-5"})}),(0,r.jsx)(x.Z,{value:ie,onKeyUp:function(e){return"Enter"===e.key&&be()},onChange:function(e){return oe(null===e||void 0===e?void 0:e.toLowerCase())},className:"flex-1 w-full",inputClassName:"!pl-9 !pr-9 !py-2 md:!py-2.5",placeholder:"Search for a domain name"}),(0,r.jsx)("span",{className:"absolute top-0 z-10 right-0 mr-4 md:mr-10 py-2",children:(0,r.jsx)(j.Z,{onClick:function(){oe(""),ee([]),H([]),H([]),setTimeout((function(){be()}),300)},icon:"XCircleIcon",from:"heroicons",className:"w-5 h-5 cursor-pointer"})})]}),(0,r.jsx)("div",{ref:ye,className:(0,N.AK)("!py-0 scroll-smooth grid body-large transition-all duration-500  overflow-y-scroll pr-2"),style:{gridTemplateRows:$.length>0?"1fr":"0fr"},children:0===$.length||ve?(0,r.jsxs)("div",{className:"flex items-start-start flex-col gap-4 pb-4",children:[(0,r.jsx)(y.Z,{classNameChild:"h-10",variant:"skeleton"}),(0,r.jsx)(y.Z,{classNameChild:"h-10",variant:"skeleton"}),(0,r.jsx)(y.Z,{classNameChild:"h-10",variant:"skeleton"})]}):(0,r.jsxs)("div",{className:(0,N.AK)(U?"flex-1 ":"max-h-100","flex flex-col  divide-y"),children:[me&&Ze(me,0),$.map((function(e,n){return Ze(e,n)}))]})}),(null===Q||void 0===Q?void 0:Q.length)>0&&$.length!==Q.length&&!O&&(0,r.jsx)("div",{className:(0,N.AK)("flex gap-2 rounded-lg items-center cursor-pointer mt-4"),children:(0,r.jsx)("p",{onClick:function(){return we()},className:"text-sm font-medium text-indigo-600",children:"View more suggestions"})})]}),(0,r.jsx)(g.Z,{visible:M,onClose:function(){return q(!1)},onAction:function(){K?P(!0):B(!0),q(!1)}}),ce&&(0,r.jsx)(h.Z,{refresh:I,domain:ce,open:!!ce,setOpen:function(){return de(null)}})]})}}}]);